2018-06-05 11:24:08,069 p=27837 u=stack |  PLAY [Count number of computes from vars list] *********************************
2018-06-05 11:24:08,129 p=27837 u=stack |  TASK [setup] *******************************************************************
2018-06-05 11:24:12,014 p=27837 u=stack |  ok: [localhost]
2018-06-05 11:24:12,019 p=27837 u=stack |  TASK [debug] *******************************************************************
2018-06-05 11:24:12,081 p=27837 u=stack |  ok: [localhost] => {
    "computes_p1.length + computes_p2.length + computes_p3.length": "VARIABLE IS NOT DEFINED!"
}
2018-06-05 11:24:12,086 p=27837 u=stack |  TASK [debug] *******************************************************************
2018-06-05 11:24:12,146 p=27837 u=stack |  ok: [localhost] => {
    "computes_p1.length": "VARIABLE IS NOT DEFINED!"
}
2018-06-05 11:24:12,148 p=27837 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 11:24:12,148 p=27837 u=stack |  localhost                  : ok=3    changed=0    unreachable=0    failed=0   
2018-06-05 11:24:28,524 p=28239 u=stack |  PLAY [Count number of computes from vars list] *********************************
2018-06-05 11:24:28,582 p=28239 u=stack |  TASK [setup] *******************************************************************
2018-06-05 11:24:32,414 p=28239 u=stack |  ok: [localhost]
2018-06-05 11:24:32,419 p=28239 u=stack |  TASK [debug] *******************************************************************
2018-06-05 11:24:32,482 p=28239 u=stack |  ok: [localhost] => {
    "computes_p1.length + computes_p2.length + computes_p3.length": "VARIABLE IS NOT DEFINED!"
}
2018-06-05 11:24:32,487 p=28239 u=stack |  TASK [debug] *******************************************************************
2018-06-05 11:24:32,549 p=28239 u=stack |  ok: [localhost] => {
    "computes_p1": [
        "overcloud-compute-0"
    ]
}
2018-06-05 11:24:32,551 p=28239 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 11:24:32,551 p=28239 u=stack |  localhost                  : ok=3    changed=0    unreachable=0    failed=0   
2018-06-05 11:24:53,209 p=28645 u=stack |  PLAY [Count number of computes from vars list] *********************************
2018-06-05 11:24:53,272 p=28645 u=stack |  TASK [setup] *******************************************************************
2018-06-05 11:24:57,138 p=28645 u=stack |  ok: [localhost]
2018-06-05 11:24:57,143 p=28645 u=stack |  TASK [debug] *******************************************************************
2018-06-05 11:24:57,203 p=28645 u=stack |  ok: [localhost] => {
    "computes_p1.length + computes_p2.length + computes_p3.length": "VARIABLE IS NOT DEFINED!"
}
2018-06-05 11:24:57,208 p=28645 u=stack |  TASK [debug] *******************************************************************
2018-06-05 11:24:57,267 p=28645 u=stack |  ok: [localhost] => {
    "computes_p1 | length": "1"
}
2018-06-05 11:24:57,269 p=28645 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 11:24:57,269 p=28645 u=stack |  localhost                  : ok=3    changed=0    unreachable=0    failed=0   
2018-06-05 11:25:14,497 p=29061 u=stack |  PLAY [Count number of computes from vars list] *********************************
2018-06-05 11:25:14,555 p=29061 u=stack |  TASK [setup] *******************************************************************
2018-06-05 11:25:18,374 p=29061 u=stack |  ok: [localhost]
2018-06-05 11:25:18,379 p=29061 u=stack |  TASK [debug] *******************************************************************
2018-06-05 11:25:18,439 p=29061 u=stack |  ok: [localhost] => {
    "computes_p1.length + computes_p2.length + computes_p3.length": "VARIABLE IS NOT DEFINED!"
}
2018-06-05 11:25:18,444 p=29061 u=stack |  TASK [debug] *******************************************************************
2018-06-05 11:25:18,502 p=29061 u=stack |  ok: [localhost] => {
    "computes_p1 | length | int": "1"
}
2018-06-05 11:25:18,504 p=29061 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 11:25:18,504 p=29061 u=stack |  localhost                  : ok=3    changed=0    unreachable=0    failed=0   
2018-06-05 11:26:04,194 p=29511 u=stack |  PLAY [Count number of computes from vars list] *********************************
2018-06-05 11:26:04,253 p=29511 u=stack |  TASK [setup] *******************************************************************
2018-06-05 11:26:08,095 p=29511 u=stack |  ok: [localhost]
2018-06-05 11:26:08,100 p=29511 u=stack |  TASK [debug] *******************************************************************
2018-06-05 11:26:08,162 p=29511 u=stack |  fatal: [localhost]: FAILED! => {"failed": true, "msg": "Unexpected templating type error occurred on ({{computes_p1 | length | int  + computes_p2 | length | int + computes_p3 | length | int}}): object of type 'NoneType' has no len()"}
2018-06-05 11:26:08,163 p=29511 u=stack |  	to retry, use: --limit @/home/stack/playbooks/PowerOnComputes/count_computes.retry

2018-06-05 11:26:08,163 p=29511 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 11:26:08,163 p=29511 u=stack |  localhost                  : ok=1    changed=0    unreachable=0    failed=1   
2018-06-05 11:26:58,064 p=29957 u=stack |  ERROR! Syntax Error while loading YAML.


The error appears to have been in '/home/stack/playbooks/PowerOnComputes/count_computes.yaml': line 6, column 41, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  - debug:
      var: "computes_p1 | length | int" + "computes_p2 | length | int" + "computes_p3 | length | int"
                                        ^ here
We could be wrong, but this one looks like it might be an issue with
unbalanced quotes.  If starting a value with a quote, make sure the
line ends with the same set of quotes.  For instance this arbitrary
example:

    foo: "bad" "wolf"

Could be written as:

    foo: '"bad" "wolf"'

2018-06-05 11:27:27,280 p=30009 u=stack |  PLAY [Count number of computes from vars list] *********************************
2018-06-05 11:27:27,337 p=30009 u=stack |  TASK [setup] *******************************************************************
2018-06-05 11:27:31,262 p=30009 u=stack |  ok: [localhost]
2018-06-05 11:27:31,267 p=30009 u=stack |  TASK [debug] *******************************************************************
2018-06-05 11:27:31,315 p=30009 u=stack |  fatal: [localhost]: FAILED! => {"failed": true, "msg": "Unexpected templating type error occurred on ({{ computes_p1 | length | int + computes_p2 | length | int + computes_p3 | length | int }}): object of type 'NoneType' has no len()"}
2018-06-05 11:27:31,316 p=30009 u=stack |  	to retry, use: --limit @/home/stack/playbooks/PowerOnComputes/count_computes.retry

2018-06-05 11:27:31,317 p=30009 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 11:27:31,317 p=30009 u=stack |  localhost                  : ok=1    changed=0    unreachable=0    failed=1   
2018-06-05 11:31:47,490 p=30823 u=stack |  PLAY [Count number of computes from vars list] *********************************
2018-06-05 11:31:47,551 p=30823 u=stack |  TASK [setup] *******************************************************************
2018-06-05 11:31:51,439 p=30823 u=stack |  ok: [localhost]
2018-06-05 11:31:51,444 p=30823 u=stack |  TASK [debug] *******************************************************************
2018-06-05 11:31:51,495 p=30823 u=stack |  fatal: [localhost]: FAILED! => {"failed": true, "msg": "Unexpected templating type error occurred on ({{ computes_p1 | length + computes_p2 | length + computes_p3 | length  }}): object of type 'NoneType' has no len()"}
2018-06-05 11:31:51,496 p=30823 u=stack |  	to retry, use: --limit @/home/stack/playbooks/PowerOnComputes/count_computes.retry

2018-06-05 11:31:51,497 p=30823 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 11:31:51,497 p=30823 u=stack |  localhost                  : ok=1    changed=0    unreachable=0    failed=1   
2018-06-05 11:34:32,665 p=31471 u=stack |  PLAY [Count number of computes from vars list] *********************************
2018-06-05 11:34:32,723 p=31471 u=stack |  TASK [setup] *******************************************************************
2018-06-05 11:34:36,596 p=31471 u=stack |  ok: [localhost]
2018-06-05 11:34:36,601 p=31471 u=stack |  TASK [debug] *******************************************************************
2018-06-05 11:34:36,665 p=31471 u=stack |  ok: [localhost] => {
    "2": "2"
}
2018-06-05 11:34:36,670 p=31471 u=stack |  TASK [debug] *******************************************************************
2018-06-05 11:34:36,728 p=31471 u=stack |  ok: [localhost] => {
    "computes_p1 | length | int": "1"
}
2018-06-05 11:34:36,730 p=31471 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 11:34:36,730 p=31471 u=stack |  localhost                  : ok=3    changed=0    unreachable=0    failed=0   
2018-06-05 11:43:09,930 p=32651 u=stack |  ERROR! Syntax Error while loading YAML.


The error appears to have been in '/home/stack/playbooks/PowerOnComputes/count_computes.yaml': line 12, column 25, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

      compute_count: "{{ compute_count + computes_p2|length }}"
    when: {{ computes_p2[0] }} is defined
                        ^ here
We could be wrong, but this one looks like it might be an issue with
missing quotes.  Always quote template expression brackets when they
start a value. For instance:

    with_items:
      - {{ foo }}

Should be written as:

    with_items:
      - "{{ foo }}"

2018-06-05 11:44:55,825 p=336 u=stack |  ERROR! 'var' is not a valid attribute for a Task

The error appears to have been in '/home/stack/playbooks/PowerOnComputes/count_computes.yaml': line 14, column 5, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


  - debug:
    ^ here

2018-06-05 11:45:09,149 p=369 u=stack |  PLAY [Count number of computes from vars list] *********************************
2018-06-05 11:45:09,208 p=369 u=stack |  TASK [setup] *******************************************************************
2018-06-05 11:45:13,226 p=369 u=stack |  ok: [localhost]
2018-06-05 11:45:13,232 p=369 u=stack |  TASK [Set fact] ****************************************************************
2018-06-05 11:45:13,295 p=369 u=stack |  ok: [localhost]
2018-06-05 11:45:13,300 p=369 u=stack |  TASK [Add length of p2] ********************************************************
2018-06-05 11:45:13,355 p=369 u=stack |  fatal: [localhost]: FAILED! => {"failed": true, "msg": "Unexpected templating type error occurred on ({{ compute_count + computes_p2|length }}): coercing to Unicode: need string or buffer, int found"}
2018-06-05 11:45:13,357 p=369 u=stack |  	to retry, use: --limit @/home/stack/playbooks/PowerOnComputes/count_computes.retry

2018-06-05 11:45:13,357 p=369 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 11:45:13,357 p=369 u=stack |  localhost                  : ok=2    changed=0    unreachable=0    failed=1   
2018-06-05 11:45:40,703 p=832 u=stack |  PLAY [Count number of computes from vars list] *********************************
2018-06-05 11:45:40,765 p=832 u=stack |  TASK [setup] *******************************************************************
2018-06-05 11:45:44,721 p=832 u=stack |  ok: [localhost]
2018-06-05 11:45:44,726 p=832 u=stack |  TASK [Set fact] ****************************************************************
2018-06-05 11:45:44,784 p=832 u=stack |  ok: [localhost]
2018-06-05 11:45:44,788 p=832 u=stack |  TASK [Add length of p2] ********************************************************
2018-06-05 11:45:44,843 p=832 u=stack |  fatal: [localhost]: FAILED! => {"failed": true, "msg": "Unexpected templating type error occurred on ({{ compute_count + computes_p2|length|int }}): coercing to Unicode: need string or buffer, int found"}
2018-06-05 11:45:44,844 p=832 u=stack |  	to retry, use: --limit @/home/stack/playbooks/PowerOnComputes/count_computes.retry

2018-06-05 11:45:44,844 p=832 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 11:45:44,845 p=832 u=stack |  localhost                  : ok=2    changed=0    unreachable=0    failed=1   
2018-06-05 11:46:04,064 p=1315 u=stack |  PLAY [Count number of computes from vars list] *********************************
2018-06-05 11:46:04,120 p=1315 u=stack |  TASK [setup] *******************************************************************
2018-06-05 11:46:07,975 p=1315 u=stack |  ok: [localhost]
2018-06-05 11:46:07,980 p=1315 u=stack |  TASK [Set fact] ****************************************************************
2018-06-05 11:46:08,043 p=1315 u=stack |  ok: [localhost]
2018-06-05 11:46:08,048 p=1315 u=stack |  TASK [Add length of p2] ********************************************************
2018-06-05 11:46:08,107 p=1315 u=stack |  ok: [localhost]
2018-06-05 11:46:08,112 p=1315 u=stack |  TASK [debug] *******************************************************************
2018-06-05 11:46:08,168 p=1315 u=stack |  ok: [localhost] => {
    "2": "2"
}
2018-06-05 11:46:08,170 p=1315 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 11:46:08,170 p=1315 u=stack |  localhost                  : ok=4    changed=0    unreachable=0    failed=0   
2018-06-05 11:46:57,026 p=1806 u=stack |  PLAY [Count number of computes from vars list] *********************************
2018-06-05 11:46:57,083 p=1806 u=stack |  TASK [setup] *******************************************************************
2018-06-05 11:47:00,957 p=1806 u=stack |  ok: [localhost]
2018-06-05 11:47:00,962 p=1806 u=stack |  TASK [Set fact] ****************************************************************
2018-06-05 11:47:01,022 p=1806 u=stack |  ok: [localhost]
2018-06-05 11:47:01,027 p=1806 u=stack |  TASK [Add length of p2] ********************************************************
2018-06-05 11:47:01,088 p=1806 u=stack |  ok: [localhost]
2018-06-05 11:47:01,093 p=1806 u=stack |  TASK [Add length of p3] ********************************************************
2018-06-05 11:47:01,144 p=1806 u=stack |  skipping: [localhost]
2018-06-05 11:47:01,149 p=1806 u=stack |  TASK [debug] *******************************************************************
2018-06-05 11:47:01,207 p=1806 u=stack |  ok: [localhost] => {
    "2": "2"
}
2018-06-05 11:47:01,209 p=1806 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 11:47:01,209 p=1806 u=stack |  localhost                  : ok=4    changed=0    unreachable=0    failed=0   
2018-06-05 11:47:27,961 p=2262 u=stack |  PLAY [Count number of computes from vars list] *********************************
2018-06-05 11:47:28,019 p=2262 u=stack |  TASK [setup] *******************************************************************
2018-06-05 11:47:31,903 p=2262 u=stack |  ok: [localhost]
2018-06-05 11:47:31,909 p=2262 u=stack |  TASK [Set fact] ****************************************************************
2018-06-05 11:47:31,967 p=2262 u=stack |  ok: [localhost]
2018-06-05 11:47:31,972 p=2262 u=stack |  TASK [Add length of p2] ********************************************************
2018-06-05 11:47:32,034 p=2262 u=stack |  ok: [localhost]
2018-06-05 11:47:32,039 p=2262 u=stack |  TASK [Add length of p3] ********************************************************
2018-06-05 11:47:32,098 p=2262 u=stack |  ok: [localhost]
2018-06-05 11:47:32,103 p=2262 u=stack |  TASK [debug] *******************************************************************
2018-06-05 11:47:32,160 p=2262 u=stack |  ok: [localhost] => {
    "3": "3"
}
2018-06-05 11:47:32,162 p=2262 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 11:47:32,162 p=2262 u=stack |  localhost                  : ok=5    changed=0    unreachable=0    failed=0   
2018-06-05 12:10:23,558 p=5049 u=stack |  PLAY [Count number of computes from vars list] *********************************
2018-06-05 12:10:23,618 p=5049 u=stack |  TASK [setup] *******************************************************************
2018-06-05 12:10:27,509 p=5049 u=stack |  ok: [localhost]
2018-06-05 12:10:27,514 p=5049 u=stack |  TASK [Initialize count] ********************************************************
2018-06-05 12:10:27,542 p=5049 u=stack |  ok: [localhost]
2018-06-05 12:10:27,546 p=5049 u=stack |  TASK [Add length of p1] ********************************************************
2018-06-05 12:10:27,606 p=5049 u=stack |  ok: [localhost]
2018-06-05 12:10:27,611 p=5049 u=stack |  TASK [Add length of p2] ********************************************************
2018-06-05 12:10:27,675 p=5049 u=stack |  ok: [localhost]
2018-06-05 12:10:27,679 p=5049 u=stack |  TASK [Add length of p3] ********************************************************
2018-06-05 12:10:27,736 p=5049 u=stack |  skipping: [localhost]
2018-06-05 12:10:27,741 p=5049 u=stack |  TASK [debug] *******************************************************************
2018-06-05 12:10:27,808 p=5049 u=stack |  ok: [localhost] => {
    "2": "2"
}
2018-06-05 12:10:27,810 p=5049 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 12:10:27,810 p=5049 u=stack |  localhost                  : ok=5    changed=0    unreachable=0    failed=0   
2018-06-05 12:13:34,148 p=5841 u=stack |  ERROR! Syntax Error while loading YAML.


The error appears to have been in '/home/stack/playbooks/PowerOnComputes/poweron_computes.yml': line 25, column 5, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Checking to see if any Compute nodes are powered on
    ^ here

2018-06-05 12:15:41,785 p=6029 u=stack |  ERROR! Syntax Error while loading YAML.


The error appears to have been in '/home/stack/playbooks/PowerOnComputes/poweron_computes.yml': line 26, column 11, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  - name: Checking to see if any Compute nodes are powered on
     shell: source /home/stack/stackrc; openstack baremetal node list -f value --fields name power_state | grep -i compute | grep -c "power off"
          ^ here

2018-06-05 12:16:01,829 p=6075 u=stack |  ERROR! Syntax Error while loading YAML.


The error appears to have been in '/home/stack/playbooks/PowerOnComputes/poweron_computes.yml': line 26, column 12, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  - name: Checking to see if any Compute nodes are powered on
      shell: source /home/stack/stackrc; openstack baremetal node list -f value --fields name power_state | grep -i compute | grep -c "power off"
           ^ here

2018-06-05 12:16:32,661 p=6122 u=stack |  ERROR! Syntax Error while loading YAML.


The error appears to have been in '/home/stack/playbooks/PowerOnComputes/poweron_computes.yml': line 38, column 15, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  - name: Waiting for the OSP Controller nodes to come back online
      wait_for:
              ^ here

2018-06-05 12:17:46,288 p=6305 u=stack |  ERROR! 'var' is not a valid attribute for a Task

The error appears to have been in '/home/stack/playbooks/PowerOnComputes/poweron_computes.yml': line 64, column 5, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

    run_once: True
  - debug:
    ^ here

2018-06-05 12:18:08,963 p=6354 u=stack |  PLAY [Power on Compute nodes] **************************************************
2018-06-05 12:18:09,025 p=6354 u=stack |  TASK [setup] *******************************************************************
2018-06-05 12:18:12,910 p=6354 u=stack |  ok: [localhost]
2018-06-05 12:18:12,915 p=6354 u=stack |  TASK [Initialize count] ********************************************************
2018-06-05 12:18:12,945 p=6354 u=stack |  ok: [localhost]
2018-06-05 12:18:12,950 p=6354 u=stack |  TASK [Add length of p1] ********************************************************
2018-06-05 12:18:13,011 p=6354 u=stack |  ok: [localhost]
2018-06-05 12:18:13,016 p=6354 u=stack |  TASK [Add length of p2] ********************************************************
2018-06-05 12:18:13,077 p=6354 u=stack |  ok: [localhost]
2018-06-05 12:18:13,082 p=6354 u=stack |  TASK [Add length of p3] ********************************************************
2018-06-05 12:18:13,132 p=6354 u=stack |  skipping: [localhost]
2018-06-05 12:18:13,137 p=6354 u=stack |  TASK [Checking to see if any Compute nodes are powered on] *********************
2018-06-05 12:18:14,822 p=6354 u=stack |  fatal: [localhost]: FAILED! => {"changed": true, "cmd": "source /home/stack/stackrc; openstack baremetal node list -f value --fields name power_state | grep -i compute | grep -c \"power off\"", "delta": "0:00:01.410535", "end": "2018-06-05 12:18:14.797435", "failed": true, "rc": 1, "start": "2018-06-05 12:18:13.386900", "stderr": "", "stdout": "0", "stdout_lines": ["0"], "warnings": []}
2018-06-05 12:18:14,822 p=6354 u=stack |  ...ignoring
2018-06-05 12:18:14,827 p=6354 u=stack |  TASK [debug] *******************************************************************
2018-06-05 12:18:14,884 p=6354 u=stack |  ok: [localhost] => {
    "compute_state.stdout": "0"
}
2018-06-05 12:18:14,889 p=6354 u=stack |  TASK [fail] ********************************************************************
2018-06-05 12:18:14,948 p=6354 u=stack |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "This does not seem to be a complete power outage"}
2018-06-05 12:18:14,949 p=6354 u=stack |  	to retry, use: --limit @/home/stack/playbooks/PowerOnComputes/poweron_computes.retry

2018-06-05 12:18:14,949 p=6354 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 12:18:14,949 p=6354 u=stack |  localhost                  : ok=6    changed=1    unreachable=0    failed=1   
2018-06-05 12:20:38,708 p=7024 u=stack |  PLAY [Power on Compute nodes] **************************************************
2018-06-05 12:20:38,768 p=7024 u=stack |  TASK [setup] *******************************************************************
2018-06-05 12:20:42,657 p=7024 u=stack |  ok: [localhost]
2018-06-05 12:20:42,662 p=7024 u=stack |  TASK [Initialize count] ********************************************************
2018-06-05 12:20:42,694 p=7024 u=stack |  ok: [localhost]
2018-06-05 12:20:42,699 p=7024 u=stack |  TASK [Add length of p1] ********************************************************
2018-06-05 12:20:42,766 p=7024 u=stack |  ok: [localhost]
2018-06-05 12:20:42,771 p=7024 u=stack |  TASK [Add length of p2] ********************************************************
2018-06-05 12:20:42,836 p=7024 u=stack |  ok: [localhost]
2018-06-05 12:20:42,841 p=7024 u=stack |  TASK [Add length of p3] ********************************************************
2018-06-05 12:20:42,895 p=7024 u=stack |  skipping: [localhost]
2018-06-05 12:20:42,900 p=7024 u=stack |  TASK [Checking to see if any Compute nodes are powered on] *********************
2018-06-05 12:20:44,486 p=7024 u=stack |  fatal: [localhost]: FAILED! => {"changed": true, "cmd": "source /home/stack/stackrc; openstack baremetal node list -f value --fields name power_state | grep -i compute | grep -c \"power off\"", "delta": "0:00:01.311723", "end": "2018-06-05 12:20:44.461379", "failed": true, "rc": 1, "start": "2018-06-05 12:20:43.149656", "stderr": "", "stdout": "0", "stdout_lines": ["0"], "warnings": []}
2018-06-05 12:20:44,487 p=7024 u=stack |  ...ignoring
2018-06-05 12:20:44,491 p=7024 u=stack |  TASK [debug] *******************************************************************
2018-06-05 12:20:44,553 p=7024 u=stack |  ok: [localhost] => {
    "compute_state.stdout": "0"
}
2018-06-05 12:20:44,558 p=7024 u=stack |  TASK [debug] *******************************************************************
2018-06-05 12:20:44,616 p=7024 u=stack |  ok: [localhost] => {
    "compute_count": "2"
}
2018-06-05 12:20:44,621 p=7024 u=stack |  TASK [fail] ********************************************************************
2018-06-05 12:20:44,689 p=7024 u=stack |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "This does not seem to be a complete power outage"}
2018-06-05 12:20:44,691 p=7024 u=stack |  	to retry, use: --limit @/home/stack/playbooks/PowerOnComputes/poweron_computes.retry

2018-06-05 12:20:44,691 p=7024 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 12:20:44,691 p=7024 u=stack |  localhost                  : ok=7    changed=1    unreachable=0    failed=1   
2018-06-05 12:51:17,445 p=10446 u=stack |  ERROR! the playbook: poweron_computes. could not be found
2018-06-05 12:51:19,987 p=10455 u=stack |  ERROR! 'with' is not a valid attribute for a Task

The error appears to have been in '/home/stack/playbooks/PowerOnComputes/poweron_computes.yml': line 97, column 5, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


  - name: Poweron computes_p1
    ^ here

2018-06-05 12:53:07,734 p=10653 u=stack |  ERROR! 'with' is not a valid attribute for a Task

The error appears to have been in '/home/stack/playbooks/PowerOnComputes/poweron_computes.yml': line 97, column 5, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


  - name: Poweron computes_p1
    ^ here

2018-06-05 12:53:32,375 p=10693 u=stack |  playbook: poweron_computes.yml
2018-06-05 13:01:37,283 p=11447 u=stack |  ERROR! Syntax Error while loading YAML.


The error appears to have been in '/home/stack/playbooks/PowerOnComputes/poweron_computes.yml': line 104, column 17, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

    wait_for:
      timeout: {{ sleep_between_computes }}
                ^ here
We could be wrong, but this one looks like it might be an issue with
missing quotes.  Always quote template expression brackets when they
start a value. For instance:

    with_items:
      - {{ foo }}

Should be written as:

    with_items:
      - "{{ foo }}"

2018-06-05 13:02:53,156 p=11595 u=stack |  playbook: poweron_computes.yml
2018-06-05 13:03:03,943 p=11627 u=stack |  PLAY [Power on Compute nodes] **************************************************
2018-06-05 13:03:04,007 p=11627 u=stack |  TASK [setup] *******************************************************************
2018-06-05 13:03:07,963 p=11627 u=stack |  ok: [localhost]
2018-06-05 13:03:07,969 p=11627 u=stack |  TASK [Initialize count] ********************************************************
2018-06-05 13:03:07,998 p=11627 u=stack |  ok: [localhost]
2018-06-05 13:03:08,003 p=11627 u=stack |  TASK [Add length of p1] ********************************************************
2018-06-05 13:03:08,065 p=11627 u=stack |  ok: [localhost]
2018-06-05 13:03:08,070 p=11627 u=stack |  TASK [Add length of p2] ********************************************************
2018-06-05 13:03:08,130 p=11627 u=stack |  ok: [localhost]
2018-06-05 13:03:08,135 p=11627 u=stack |  TASK [Add length of p3] ********************************************************
2018-06-05 13:03:08,185 p=11627 u=stack |  skipping: [localhost]
2018-06-05 13:03:08,190 p=11627 u=stack |  TASK [Checking to see if any Compute nodes are powered on] *********************
2018-06-05 13:03:09,749 p=11627 u=stack |  fatal: [localhost]: FAILED! => {"changed": true, "cmd": "source /home/stack/stackrc; openstack baremetal node list -f value --fields name power_state | grep -i compute | grep -c \"power off\"", "delta": "0:00:01.286960", "end": "2018-06-05 13:03:09.725042", "failed": true, "rc": 1, "start": "2018-06-05 13:03:08.438082", "stderr": "", "stdout": "0", "stdout_lines": ["0"], "warnings": []}
2018-06-05 13:03:09,750 p=11627 u=stack |  ...ignoring
2018-06-05 13:03:09,754 p=11627 u=stack |  TASK [debug] *******************************************************************
2018-06-05 13:03:09,815 p=11627 u=stack |  ok: [localhost] => {
    "compute_state.stdout": "0"
}
2018-06-05 13:03:09,819 p=11627 u=stack |  TASK [debug] *******************************************************************
2018-06-05 13:03:09,876 p=11627 u=stack |  ok: [localhost] => {
    "compute_count": "2"
}
2018-06-05 13:03:09,881 p=11627 u=stack |  TASK [fail] ********************************************************************
2018-06-05 13:03:09,941 p=11627 u=stack |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "This does not seem to be a complete power outage"}
2018-06-05 13:03:09,943 p=11627 u=stack |  	to retry, use: --limit @/home/stack/playbooks/PowerOnComputes/poweron_computes.retry

2018-06-05 13:03:09,943 p=11627 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 13:03:09,943 p=11627 u=stack |  localhost                  : ok=7    changed=1    unreachable=0    failed=1   
2018-06-05 13:45:43,099 p=15974 u=stack |  PLAY [Power on Compute nodes] **************************************************
2018-06-05 13:45:43,161 p=15974 u=stack |  TASK [setup] *******************************************************************
2018-06-05 13:45:47,128 p=15974 u=stack |  ok: [localhost]
2018-06-05 13:45:47,133 p=15974 u=stack |  TASK [Initialize count] ********************************************************
2018-06-05 13:45:47,165 p=15974 u=stack |  ok: [localhost]
2018-06-05 13:45:47,170 p=15974 u=stack |  TASK [Add length of p1] ********************************************************
2018-06-05 13:45:47,230 p=15974 u=stack |  ok: [localhost]
2018-06-05 13:45:47,234 p=15974 u=stack |  TASK [Add length of p2] ********************************************************
2018-06-05 13:45:47,294 p=15974 u=stack |  ok: [localhost]
2018-06-05 13:45:47,299 p=15974 u=stack |  TASK [Add length of p3] ********************************************************
2018-06-05 13:45:47,347 p=15974 u=stack |  skipping: [localhost]
2018-06-05 13:45:47,351 p=15974 u=stack |  TASK [Checking to see if any Compute nodes are powered on] *********************
2018-06-05 13:45:48,924 p=15974 u=stack |  fatal: [localhost]: FAILED! => {"changed": true, "cmd": "source /home/stack/stackrc; openstack baremetal node list -f value --fields name power_state | grep -i compute | grep -c \"power off\"", "delta": "0:00:01.304422", "end": "2018-06-05 13:45:48.900522", "failed": true, "rc": 1, "start": "2018-06-05 13:45:47.596100", "stderr": "", "stdout": "0", "stdout_lines": ["0"], "warnings": []}
2018-06-05 13:45:48,924 p=15974 u=stack |  ...ignoring
2018-06-05 13:45:48,929 p=15974 u=stack |  TASK [debug] *******************************************************************
2018-06-05 13:45:48,988 p=15974 u=stack |  ok: [localhost] => {
    "compute_state.stdout": "0"
}
2018-06-05 13:45:48,993 p=15974 u=stack |  TASK [debug] *******************************************************************
2018-06-05 13:45:49,050 p=15974 u=stack |  ok: [localhost] => {
    "compute_count": "2"
}
2018-06-05 13:45:49,055 p=15974 u=stack |  TASK [Waiting for the OSP Controller nodes to come back online] ****************
2018-06-05 13:45:49,409 p=15974 u=stack |  ok: [localhost] => (item=overcloud-controller-0)
2018-06-05 13:45:49,419 p=15974 u=stack |  TASK [Waiting for the Ceph monitor nodes to come back online] ******************
2018-06-05 13:45:49,650 p=15974 u=stack |  ok: [localhost] => (item=overcloud-controller-0)
2018-06-05 13:45:49,655 p=15974 u=stack |  TASK [Waiting for the Ceph OSD nodes to come back online] **********************
2018-06-05 13:45:49,889 p=15974 u=stack |  ok: [localhost] => (item=overcloud-cephstorage-0)
2018-06-05 13:45:49,898 p=15974 u=stack |  TASK [Wait for 60 seconds before continuing] ***********************************
2018-06-05 13:46:50,168 p=15974 u=stack |  ok: [localhost -> localhost]
2018-06-05 13:46:50,173 p=15974 u=stack |  PLAY [ceph-mons] ***************************************************************
2018-06-05 13:46:50,176 p=15974 u=stack |  TASK [setup] *******************************************************************
2018-06-05 13:46:52,611 p=15974 u=stack |  ok: [overcloud-controller-0]
2018-06-05 13:46:52,619 p=15974 u=stack |  TASK [Checking Ceph health till number of OSDs up crosses threshold] ***********
2018-06-05 13:46:53,241 p=15974 u=stack |  changed: [overcloud-controller-0]
2018-06-05 13:46:53,248 p=15974 u=stack |  TASK [debug] *******************************************************************
2018-06-05 13:46:53,284 p=15974 u=stack |  ok: [overcloud-controller-0] => {
    "timeout_value": 900
}
2018-06-05 13:46:53,291 p=15974 u=stack |  TASK [debug] *******************************************************************
2018-06-05 13:46:53,326 p=15974 u=stack |  ok: [overcloud-controller-0] => {
    "threshold": 0.9
}
2018-06-05 13:46:53,329 p=15974 u=stack |  PLAY [localhost] ***************************************************************
2018-06-05 13:46:53,336 p=15974 u=stack |  TASK [setup] *******************************************************************
2018-06-05 13:46:57,010 p=15974 u=stack |  ok: [localhost]
2018-06-05 13:46:57,015 p=15974 u=stack |  TASK [Find computes_p1 instance ids] *******************************************
2018-06-05 13:46:59,393 p=15974 u=stack |  changed: [localhost] => (item=overcloud-compute-0)
2018-06-05 13:46:59,397 p=15974 u=stack |  TASK [Find computes_p1 baremetal node uuids] ***********************************
2018-06-05 13:47:00,895 p=15974 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'92005d48-b779-438a-89f0-5dd3d06a99e0', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-05 13:46:59.368683', u'start': u'2018-06-05 13:46:57.205519', u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", 'item': u'overcloud-compute-0', u'delta': u'0:00:02.163164', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'92005d48-b779-438a-89f0-5dd3d06a99e0'], u'stderr': u''})
2018-06-05 13:47:00,900 p=15974 u=stack |  TASK [Poweron computes_p1] *****************************************************
2018-06-05 13:47:02,433 p=15974 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-05 13:47:00.871834', u'start': u'2018-06-05 13:46:59.601378', u'cmd': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 92005d48-b779-438a-89f0-5dd3d06a99e0 --fields uuid', 'item': {'_ansible_parsed': True, u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", u'end': u'2018-06-05 13:46:59.368683', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'changed': True, u'rc': 0, u'stdout': u'92005d48-b779-438a-89f0-5dd3d06a99e0', 'item': u'overcloud-compute-0', u'stderr': u'', u'delta': u'0:00:02.163164', 'invocation': {'module_name': u'command', u'module_args': {u'warn': True, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", u'removes': None, u'creates': None, u'chdir': None}}, 'stdout_lines': [u'92005d48-b779-438a-89f0-5dd3d06a99e0'], u'start': u'2018-06-05 13:46:57.205519'}, u'delta': u'0:00:01.270456', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 92005d48-b779-438a-89f0-5dd3d06a99e0 --fields uuid', u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6'], u'stderr': u''})
2018-06-05 13:47:02,446 p=15974 u=stack |  TASK [Wait between computes p1 and p2] *****************************************
2018-06-05 13:47:07,689 p=15974 u=stack |  ok: [localhost -> localhost]
2018-06-05 13:47:07,694 p=15974 u=stack |  TASK [Find computes_p2 instance ids] *******************************************
2018-06-05 13:47:09,954 p=15974 u=stack |  changed: [localhost] => (item=overcloud-compute-1)
2018-06-05 13:47:09,958 p=15974 u=stack |  TASK [Find computes_p2 baremetal node uuids] ***********************************
2018-06-05 13:47:11,437 p=15974 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'99efcced-e695-4443-9e0c-c589af606be9', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-05 13:47:09.931036', u'start': u'2018-06-05 13:47:07.887422', u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", 'item': u'overcloud-compute-1', u'delta': u'0:00:02.043614', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'99efcced-e695-4443-9e0c-c589af606be9'], u'stderr': u''})
2018-06-05 13:47:11,442 p=15974 u=stack |  TASK [Poweron computes_p2] *****************************************************
2018-06-05 13:47:13,037 p=15974 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'd1f438de-e234-4a19-a866-777e9c8a19d1', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-05 13:47:11.413818', u'start': u'2018-06-05 13:47:10.154981', u'cmd': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 99efcced-e695-4443-9e0c-c589af606be9 --fields uuid', 'item': {'_ansible_parsed': True, u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", u'end': u'2018-06-05 13:47:09.931036', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'changed': True, u'rc': 0, u'stdout': u'99efcced-e695-4443-9e0c-c589af606be9', 'item': u'overcloud-compute-1', u'stderr': u'', u'delta': u'0:00:02.043614', 'invocation': {'module_name': u'command', u'module_args': {u'warn': True, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", u'removes': None, u'creates': None, u'chdir': None}}, 'stdout_lines': [u'99efcced-e695-4443-9e0c-c589af606be9'], u'start': u'2018-06-05 13:47:07.887422'}, u'delta': u'0:00:01.258837', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 99efcced-e695-4443-9e0c-c589af606be9 --fields uuid', u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'd1f438de-e234-4a19-a866-777e9c8a19d1'], u'stderr': u''})
2018-06-05 13:47:13,045 p=15974 u=stack |  TASK [Wait between computes p2 and p3] *****************************************
2018-06-05 13:47:13,101 p=15974 u=stack |  skipping: [localhost]
2018-06-05 13:47:13,105 p=15974 u=stack |  TASK [Find computes_p3 instance ids] *******************************************
2018-06-05 13:47:13,159 p=15974 u=stack |  skipping: [localhost] => (item=None) 
2018-06-05 13:47:13,164 p=15974 u=stack |  TASK [Find computes_p3 baremetal node uuids] ***********************************
2018-06-05 13:47:13,252 p=15974 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False}) 
2018-06-05 13:47:13,257 p=15974 u=stack |  TASK [Poweron computes_p3] *****************************************************
2018-06-05 13:47:13,346 p=15974 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': {'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False}, 'changed': False}) 
2018-06-05 13:47:13,348 p=15974 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 13:47:13,348 p=15974 u=stack |  localhost                  : ok=19   changed=7    unreachable=0    failed=0   
2018-06-05 13:47:13,348 p=15974 u=stack |  overcloud-controller-0     : ok=4    changed=1    unreachable=0    failed=0   
2018-06-05 13:53:31,618 p=17837 u=stack |  PLAY [Power on Compute nodes] **************************************************
2018-06-05 13:53:31,678 p=17837 u=stack |  TASK [setup] *******************************************************************
2018-06-05 13:53:35,558 p=17837 u=stack |  ok: [localhost]
2018-06-05 13:53:35,563 p=17837 u=stack |  TASK [Initialize count] ********************************************************
2018-06-05 13:53:35,594 p=17837 u=stack |  ok: [localhost]
2018-06-05 13:53:35,599 p=17837 u=stack |  TASK [Add length of p1] ********************************************************
2018-06-05 13:53:35,662 p=17837 u=stack |  ok: [localhost]
2018-06-05 13:53:35,666 p=17837 u=stack |  TASK [Add length of p2] ********************************************************
2018-06-05 13:53:35,729 p=17837 u=stack |  ok: [localhost]
2018-06-05 13:53:35,734 p=17837 u=stack |  TASK [Add length of p3] ********************************************************
2018-06-05 13:53:35,784 p=17837 u=stack |  skipping: [localhost]
2018-06-05 13:53:35,788 p=17837 u=stack |  TASK [Checking to see if any Compute nodes are powered on] *********************
2018-06-05 13:53:37,355 p=17837 u=stack |  fatal: [localhost]: FAILED! => {"changed": true, "cmd": "source /home/stack/stackrc; openstack baremetal node list -f value --fields name power_state | grep -i compute | grep -c \"power off\"", "delta": "0:00:01.299792", "end": "2018-06-05 13:53:37.330252", "failed": true, "rc": 1, "start": "2018-06-05 13:53:36.030460", "stderr": "", "stdout": "0", "stdout_lines": ["0"], "warnings": []}
2018-06-05 13:53:37,355 p=17837 u=stack |  ...ignoring
2018-06-05 13:53:37,361 p=17837 u=stack |  TASK [debug] *******************************************************************
2018-06-05 13:53:37,426 p=17837 u=stack |  ok: [localhost] => {
    "compute_state.stdout": "0"
}
2018-06-05 13:53:37,431 p=17837 u=stack |  TASK [debug] *******************************************************************
2018-06-05 13:53:37,488 p=17837 u=stack |  ok: [localhost] => {
    "compute_count": "2"
}
2018-06-05 13:53:37,493 p=17837 u=stack |  TASK [Waiting for the OSP Controller nodes to come back online] ****************
2018-06-05 13:53:37,865 p=17837 u=stack |  ok: [localhost] => (item=overcloud-controller-0)
2018-06-05 13:53:37,870 p=17837 u=stack |  TASK [Waiting for the Ceph monitor nodes to come back online] ******************
2018-06-05 13:53:38,126 p=17837 u=stack |  ok: [localhost] => (item=overcloud-controller-0)
2018-06-05 13:53:38,131 p=17837 u=stack |  TASK [Waiting for the Ceph OSD nodes to come back online] **********************
2018-06-05 13:53:38,378 p=17837 u=stack |  ok: [localhost] => (item=overcloud-cephstorage-0)
2018-06-05 13:53:38,382 p=17837 u=stack |  PLAY [ceph-mons] ***************************************************************
2018-06-05 13:53:38,395 p=17837 u=stack |  TASK [setup] *******************************************************************
2018-06-05 13:53:40,746 p=17837 u=stack |  ok: [overcloud-controller-0]
2018-06-05 13:53:40,754 p=17837 u=stack |  TASK [Checking Ceph health till number of OSDs up crosses threshold] ***********
2018-06-05 13:53:41,337 p=17837 u=stack |  changed: [overcloud-controller-0]
2018-06-05 13:53:41,344 p=17837 u=stack |  TASK [debug] *******************************************************************
2018-06-05 13:53:41,380 p=17837 u=stack |  ok: [overcloud-controller-0] => {
    "timeout_value": 900
}
2018-06-05 13:53:41,387 p=17837 u=stack |  TASK [debug] *******************************************************************
2018-06-05 13:53:41,421 p=17837 u=stack |  ok: [overcloud-controller-0] => {
    "threshold": 0.9
}
2018-06-05 13:53:41,424 p=17837 u=stack |  PLAY [localhost] ***************************************************************
2018-06-05 13:53:41,430 p=17837 u=stack |  TASK [setup] *******************************************************************
2018-06-05 13:53:45,035 p=17837 u=stack |  ok: [localhost]
2018-06-05 13:53:45,040 p=17837 u=stack |  TASK [Find computes_p1 instance ids] *******************************************
2018-06-05 13:53:47,355 p=17837 u=stack |  changed: [localhost] => (item=overcloud-compute-0)
2018-06-05 13:53:47,360 p=17837 u=stack |  TASK [debug] *******************************************************************
2018-06-05 13:53:47,422 p=17837 u=stack |  ok: [localhost] => {
    "computes_p1_instances.results|length": "1"
}
2018-06-05 13:53:47,426 p=17837 u=stack |  TASK [Find computes_p1 baremetal node uuids] ***********************************
2018-06-05 13:53:48,955 p=17837 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'92005d48-b779-438a-89f0-5dd3d06a99e0', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-05 13:53:47.327750', u'start': u'2018-06-05 13:53:45.232641', u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", 'item': u'overcloud-compute-0', u'delta': u'0:00:02.095109', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'92005d48-b779-438a-89f0-5dd3d06a99e0'], u'stderr': u''})
2018-06-05 13:53:48,959 p=17837 u=stack |  TASK [debug] *******************************************************************
2018-06-05 13:53:49,028 p=17837 u=stack |  ok: [localhost] => {
    "computes_p1_uuids": {
        "changed": true, 
        "msg": "All items completed", 
        "results": [
            {
                "_ansible_item_result": true, 
                "_ansible_no_log": false, 
                "_ansible_parsed": true, 
                "changed": true, 
                "cmd": "source /home/stack/stackrc; openstack baremetal node show -f value --instance 92005d48-b779-438a-89f0-5dd3d06a99e0 --fields uuid", 
                "delta": "0:00:01.308330", 
                "end": "2018-06-05 13:53:48.931402", 
                "invocation": {
                    "module_args": {
                        "_raw_params": "source /home/stack/stackrc; openstack baremetal node show -f value --instance 92005d48-b779-438a-89f0-5dd3d06a99e0 --fields uuid", 
                        "_uses_shell": true, 
                        "chdir": null, 
                        "creates": null, 
                        "executable": null, 
                        "removes": null, 
                        "warn": true
                    }, 
                    "module_name": "command"
                }, 
                "item": {
                    "_ansible_item_result": true, 
                    "_ansible_no_log": false, 
                    "_ansible_parsed": true, 
                    "changed": true, 
                    "cmd": "source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", 
                    "delta": "0:00:02.095109", 
                    "end": "2018-06-05 13:53:47.327750", 
                    "invocation": {
                        "module_args": {
                            "_raw_params": "source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", 
                            "_uses_shell": true, 
                            "chdir": null, 
                            "creates": null, 
                            "executable": null, 
                            "removes": null, 
                            "warn": true
                        }, 
                        "module_name": "command"
                    }, 
                    "item": "overcloud-compute-0", 
                    "rc": 0, 
                    "start": "2018-06-05 13:53:45.232641", 
                    "stderr": "", 
                    "stdout": "92005d48-b779-438a-89f0-5dd3d06a99e0", 
                    "stdout_lines": [
                        "92005d48-b779-438a-89f0-5dd3d06a99e0"
                    ], 
                    "warnings": []
                }, 
                "rc": 0, 
                "start": "2018-06-05 13:53:47.623072", 
                "stderr": "", 
                "stdout": "ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6", 
                "stdout_lines": [
                    "ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6"
                ], 
                "warnings": []
            }
        ]
    }
}
2018-06-05 13:53:49,033 p=17837 u=stack |  TASK [Poweron computes_p1] *****************************************************
2018-06-05 13:53:50,614 p=17837 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-05 13:53:48.931402', u'start': u'2018-06-05 13:53:47.623072', u'cmd': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 92005d48-b779-438a-89f0-5dd3d06a99e0 --fields uuid', 'item': {'_ansible_parsed': True, u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", u'end': u'2018-06-05 13:53:47.327750', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'changed': True, u'rc': 0, u'stdout': u'92005d48-b779-438a-89f0-5dd3d06a99e0', 'item': u'overcloud-compute-0', u'stderr': u'', u'delta': u'0:00:02.095109', 'invocation': {'module_name': u'command', u'module_args': {u'warn': True, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", u'removes': None, u'creates': None, u'chdir': None}}, 'stdout_lines': [u'92005d48-b779-438a-89f0-5dd3d06a99e0'], u'start': u'2018-06-05 13:53:45.232641'}, u'delta': u'0:00:01.308330', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 92005d48-b779-438a-89f0-5dd3d06a99e0 --fields uuid', u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6'], u'stderr': u''})
2018-06-05 13:53:50,623 p=17837 u=stack |  TASK [Wait between computes p1 and p2] *****************************************
2018-06-05 13:53:55,879 p=17837 u=stack |  ok: [localhost -> localhost]
2018-06-05 13:53:55,883 p=17837 u=stack |  TASK [Find computes_p2 instance ids] *******************************************
2018-06-05 13:53:58,123 p=17837 u=stack |  changed: [localhost] => (item=overcloud-compute-1)
2018-06-05 13:53:58,128 p=17837 u=stack |  TASK [Find computes_p2 baremetal node uuids] ***********************************
2018-06-05 13:53:59,624 p=17837 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'99efcced-e695-4443-9e0c-c589af606be9', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-05 13:53:58.099826', u'start': u'2018-06-05 13:53:56.079722', u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", 'item': u'overcloud-compute-1', u'delta': u'0:00:02.020104', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'99efcced-e695-4443-9e0c-c589af606be9'], u'stderr': u''})
2018-06-05 13:53:59,629 p=17837 u=stack |  TASK [Poweron computes_p2] *****************************************************
2018-06-05 13:54:01,165 p=17837 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'd1f438de-e234-4a19-a866-777e9c8a19d1', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-05 13:53:59.600356', u'start': u'2018-06-05 13:53:58.325872', u'cmd': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 99efcced-e695-4443-9e0c-c589af606be9 --fields uuid', 'item': {'_ansible_parsed': True, u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", u'end': u'2018-06-05 13:53:58.099826', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'changed': True, u'rc': 0, u'stdout': u'99efcced-e695-4443-9e0c-c589af606be9', 'item': u'overcloud-compute-1', u'stderr': u'', u'delta': u'0:00:02.020104', 'invocation': {'module_name': u'command', u'module_args': {u'warn': True, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", u'removes': None, u'creates': None, u'chdir': None}}, 'stdout_lines': [u'99efcced-e695-4443-9e0c-c589af606be9'], u'start': u'2018-06-05 13:53:56.079722'}, u'delta': u'0:00:01.274484', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 99efcced-e695-4443-9e0c-c589af606be9 --fields uuid', u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'd1f438de-e234-4a19-a866-777e9c8a19d1'], u'stderr': u''})
2018-06-05 13:54:01,178 p=17837 u=stack |  TASK [Wait between computes p2 and p3] *****************************************
2018-06-05 13:54:01,235 p=17837 u=stack |  skipping: [localhost]
2018-06-05 13:54:01,240 p=17837 u=stack |  TASK [Find computes_p3 instance ids] *******************************************
2018-06-05 13:54:01,295 p=17837 u=stack |  skipping: [localhost] => (item=None) 
2018-06-05 13:54:01,300 p=17837 u=stack |  TASK [Find computes_p3 baremetal node uuids] ***********************************
2018-06-05 13:54:01,356 p=17837 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False}) 
2018-06-05 13:54:01,361 p=17837 u=stack |  TASK [Poweron computes_p3] *****************************************************
2018-06-05 13:54:01,412 p=17837 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': {'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False}, 'changed': False}) 
2018-06-05 13:54:01,418 p=17837 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 13:54:01,418 p=17837 u=stack |  localhost                  : ok=20   changed=7    unreachable=0    failed=0   
2018-06-05 13:54:01,418 p=17837 u=stack |  overcloud-controller-0     : ok=4    changed=1    unreachable=0    failed=0   
2018-06-05 14:24:28,581 p=21861 u=stack |  PLAY [Power on Compute nodes] **************************************************
2018-06-05 14:24:28,641 p=21861 u=stack |  TASK [setup] *******************************************************************
2018-06-05 14:24:32,496 p=21861 u=stack |  ok: [localhost]
2018-06-05 14:24:32,501 p=21861 u=stack |  TASK [Initialize count] ********************************************************
2018-06-05 14:24:32,531 p=21861 u=stack |  ok: [localhost]
2018-06-05 14:24:32,536 p=21861 u=stack |  TASK [Add length of p1] ********************************************************
2018-06-05 14:24:32,597 p=21861 u=stack |  ok: [localhost]
2018-06-05 14:24:32,602 p=21861 u=stack |  TASK [Add length of p2] ********************************************************
2018-06-05 14:24:32,667 p=21861 u=stack |  ok: [localhost]
2018-06-05 14:24:32,671 p=21861 u=stack |  TASK [Add length of p3] ********************************************************
2018-06-05 14:24:32,725 p=21861 u=stack |  skipping: [localhost]
2018-06-05 14:24:32,730 p=21861 u=stack |  TASK [Checking to see if any Compute nodes are powered on] *********************
2018-06-05 14:24:34,322 p=21861 u=stack |  fatal: [localhost]: FAILED! => {"changed": true, "cmd": "source /home/stack/stackrc; openstack baremetal node list -f value --fields name power_state | grep -i compute | grep -c \"power off\"", "delta": "0:00:01.318795", "end": "2018-06-05 14:24:34.297988", "failed": true, "rc": 1, "start": "2018-06-05 14:24:32.979193", "stderr": "", "stdout": "0", "stdout_lines": ["0"], "warnings": []}
2018-06-05 14:24:34,322 p=21861 u=stack |  ...ignoring
2018-06-05 14:24:34,327 p=21861 u=stack |  TASK [fail] ********************************************************************
2018-06-05 14:24:34,389 p=21861 u=stack |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "This does not seem to be a complete power outage"}
2018-06-05 14:24:34,391 p=21861 u=stack |  	to retry, use: --limit @/home/stack/playbooks/PowerOnComputes/poweron_computes.retry

2018-06-05 14:24:34,391 p=21861 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 14:24:34,391 p=21861 u=stack |  localhost                  : ok=5    changed=1    unreachable=0    failed=1   
2018-06-05 14:24:59,500 p=22323 u=stack |  PLAY [Power on Compute nodes] **************************************************
2018-06-05 14:24:59,560 p=22323 u=stack |  TASK [setup] *******************************************************************
2018-06-05 14:25:03,378 p=22323 u=stack |  ok: [localhost]
2018-06-05 14:25:03,383 p=22323 u=stack |  TASK [Initialize count] ********************************************************
2018-06-05 14:25:03,411 p=22323 u=stack |  ok: [localhost]
2018-06-05 14:25:03,415 p=22323 u=stack |  TASK [Add length of p1] ********************************************************
2018-06-05 14:25:03,474 p=22323 u=stack |  ok: [localhost]
2018-06-05 14:25:03,479 p=22323 u=stack |  TASK [Add length of p2] ********************************************************
2018-06-05 14:25:03,536 p=22323 u=stack |  ok: [localhost]
2018-06-05 14:25:03,541 p=22323 u=stack |  TASK [Add length of p3] ********************************************************
2018-06-05 14:25:03,588 p=22323 u=stack |  skipping: [localhost]
2018-06-05 14:25:03,592 p=22323 u=stack |  TASK [Checking to see if any Compute nodes are powered on] *********************
2018-06-05 14:25:05,162 p=22323 u=stack |  fatal: [localhost]: FAILED! => {"changed": true, "cmd": "source /home/stack/stackrc; openstack baremetal node list -f value --fields name power_state | grep -i compute | grep -c \"power off\"", "delta": "0:00:01.305421", "end": "2018-06-05 14:25:05.137395", "failed": true, "rc": 1, "start": "2018-06-05 14:25:03.831974", "stderr": "", "stdout": "0", "stdout_lines": ["0"], "warnings": []}
2018-06-05 14:25:05,162 p=22323 u=stack |  ...ignoring
2018-06-05 14:25:05,167 p=22323 u=stack |  TASK [Waiting for the OSP Controller nodes to come back online] ****************
2018-06-05 14:25:05,524 p=22323 u=stack |  ok: [localhost] => (item=overcloud-controller-0)
2018-06-05 14:25:05,529 p=22323 u=stack |  TASK [Waiting for the Ceph monitor nodes to come back online] ******************
2018-06-05 14:25:05,768 p=22323 u=stack |  ok: [localhost] => (item=overcloud-controller-0)
2018-06-05 14:25:05,773 p=22323 u=stack |  TASK [Waiting for the Ceph OSD nodes to come back online] **********************
2018-06-05 14:25:06,001 p=22323 u=stack |  ok: [localhost] => (item=overcloud-cephstorage-0)
2018-06-05 14:25:06,010 p=22323 u=stack |  TASK [Wait for 60 seconds before continuing] ***********************************
2018-06-05 14:26:06,276 p=22323 u=stack |  ok: [localhost -> localhost]
2018-06-05 14:26:06,281 p=22323 u=stack |  PLAY [ceph-mons] ***************************************************************
2018-06-05 14:26:06,293 p=22323 u=stack |  TASK [setup] *******************************************************************
2018-06-05 14:26:08,717 p=22323 u=stack |  ok: [overcloud-controller-0]
2018-06-05 14:26:08,724 p=22323 u=stack |  TASK [Checking Ceph health till number of OSDs up crosses threshold] ***********
2018-06-05 14:26:09,331 p=22323 u=stack |  changed: [overcloud-controller-0]
2018-06-05 14:26:09,334 p=22323 u=stack |  PLAY [localhost] ***************************************************************
2018-06-05 14:26:09,341 p=22323 u=stack |  TASK [setup] *******************************************************************
2018-06-05 14:26:12,954 p=22323 u=stack |  ok: [localhost]
2018-06-05 14:26:12,959 p=22323 u=stack |  TASK [Find computes_p1 instance ids] *******************************************
2018-06-05 14:26:15,229 p=22323 u=stack |  changed: [localhost] => (item=overcloud-compute-0)
2018-06-05 14:26:15,234 p=22323 u=stack |  TASK [Find computes_p1 baremetal node uuids] ***********************************
2018-06-05 14:26:16,751 p=22323 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'92005d48-b779-438a-89f0-5dd3d06a99e0', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-05 14:26:15.204400', u'start': u'2018-06-05 14:26:13.154456', u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", 'item': u'overcloud-compute-0', u'delta': u'0:00:02.049944', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'92005d48-b779-438a-89f0-5dd3d06a99e0'], u'stderr': u''})
2018-06-05 14:26:16,756 p=22323 u=stack |  TASK [Poweron computes_p1] *****************************************************
2018-06-05 14:26:18,300 p=22323 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-05 14:26:16.727413', u'start': u'2018-06-05 14:26:15.435679', u'cmd': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 92005d48-b779-438a-89f0-5dd3d06a99e0 --fields uuid', 'item': {'_ansible_parsed': True, u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", u'end': u'2018-06-05 14:26:15.204400', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'changed': True, u'rc': 0, u'stdout': u'92005d48-b779-438a-89f0-5dd3d06a99e0', 'item': u'overcloud-compute-0', u'stderr': u'', u'delta': u'0:00:02.049944', 'invocation': {'module_name': u'command', u'module_args': {u'warn': True, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", u'removes': None, u'creates': None, u'chdir': None}}, 'stdout_lines': [u'92005d48-b779-438a-89f0-5dd3d06a99e0'], u'start': u'2018-06-05 14:26:13.154456'}, u'delta': u'0:00:01.291734', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 92005d48-b779-438a-89f0-5dd3d06a99e0 --fields uuid', u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6'], u'stderr': u''})
2018-06-05 14:26:18,309 p=22323 u=stack |  TASK [Wait between computes p1 and p2] *****************************************
2018-06-05 14:26:23,549 p=22323 u=stack |  ok: [localhost -> localhost]
2018-06-05 14:26:23,554 p=22323 u=stack |  TASK [Find computes_p2 instance ids] *******************************************
2018-06-05 14:26:26,102 p=22323 u=stack |  changed: [localhost] => (item=overcloud-compute-1)
2018-06-05 14:26:26,106 p=22323 u=stack |  TASK [Find computes_p2 baremetal node uuids] ***********************************
2018-06-05 14:26:27,585 p=22323 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'99efcced-e695-4443-9e0c-c589af606be9', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-05 14:26:26.077147', u'start': u'2018-06-05 14:26:23.747658', u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", 'item': u'overcloud-compute-1', u'delta': u'0:00:02.329489', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'99efcced-e695-4443-9e0c-c589af606be9'], u'stderr': u''})
2018-06-05 14:26:27,590 p=22323 u=stack |  TASK [Poweron computes_p2] *****************************************************
2018-06-05 14:26:29,208 p=22323 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'd1f438de-e234-4a19-a866-777e9c8a19d1', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-05 14:26:27.560246', u'start': u'2018-06-05 14:26:26.297799', u'cmd': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 99efcced-e695-4443-9e0c-c589af606be9 --fields uuid', 'item': {'_ansible_parsed': True, u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", u'end': u'2018-06-05 14:26:26.077147', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'changed': True, u'rc': 0, u'stdout': u'99efcced-e695-4443-9e0c-c589af606be9', 'item': u'overcloud-compute-1', u'stderr': u'', u'delta': u'0:00:02.329489', 'invocation': {'module_name': u'command', u'module_args': {u'warn': True, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", u'removes': None, u'creates': None, u'chdir': None}}, 'stdout_lines': [u'99efcced-e695-4443-9e0c-c589af606be9'], u'start': u'2018-06-05 14:26:23.747658'}, u'delta': u'0:00:01.262447', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 99efcced-e695-4443-9e0c-c589af606be9 --fields uuid', u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'd1f438de-e234-4a19-a866-777e9c8a19d1'], u'stderr': u''})
2018-06-05 14:26:29,218 p=22323 u=stack |  TASK [Wait between computes p2 and p3] *****************************************
2018-06-05 14:26:29,271 p=22323 u=stack |  skipping: [localhost]
2018-06-05 14:26:29,276 p=22323 u=stack |  TASK [Find computes_p3 instance ids] *******************************************
2018-06-05 14:26:29,328 p=22323 u=stack |  skipping: [localhost] => (item=None) 
2018-06-05 14:26:29,333 p=22323 u=stack |  TASK [Find computes_p3 baremetal node uuids] ***********************************
2018-06-05 14:26:29,387 p=22323 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False}) 
2018-06-05 14:26:29,391 p=22323 u=stack |  TASK [Poweron computes_p3] *****************************************************
2018-06-05 14:26:29,441 p=22323 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': {'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False}, 'changed': False}) 
2018-06-05 14:26:29,447 p=22323 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 14:26:29,448 p=22323 u=stack |  localhost                  : ok=17   changed=7    unreachable=0    failed=0   
2018-06-05 14:26:29,448 p=22323 u=stack |  overcloud-controller-0     : ok=2    changed=1    unreachable=0    failed=0   
2018-06-05 14:41:45,861 p=24976 u=stack |  PLAY [Power on Compute nodes] **************************************************
2018-06-05 14:41:45,921 p=24976 u=stack |  TASK [setup] *******************************************************************
2018-06-05 14:41:49,821 p=24976 u=stack |  ok: [localhost]
2018-06-05 14:41:49,826 p=24976 u=stack |  TASK [Initialize count] ********************************************************
2018-06-05 14:41:49,855 p=24976 u=stack |  ok: [localhost]
2018-06-05 14:41:49,860 p=24976 u=stack |  TASK [Add length of p1] ********************************************************
2018-06-05 14:41:49,917 p=24976 u=stack |  ok: [localhost]
2018-06-05 14:41:49,922 p=24976 u=stack |  TASK [Add length of p2] ********************************************************
2018-06-05 14:41:49,969 p=24976 u=stack |  skipping: [localhost]
2018-06-05 14:41:49,973 p=24976 u=stack |  TASK [Add length of p3] ********************************************************
2018-06-05 14:41:50,020 p=24976 u=stack |  skipping: [localhost]
2018-06-05 14:41:50,024 p=24976 u=stack |  TASK [Checking to see if any Compute nodes are powered on] *********************
2018-06-05 14:41:51,624 p=24976 u=stack |  fatal: [localhost]: FAILED! => {"changed": true, "cmd": "source /home/stack/stackrc; openstack baremetal node list -f value --fields name power_state | grep -i compute | grep -c \"power off\"", "delta": "0:00:01.324911", "end": "2018-06-05 14:41:51.599123", "failed": true, "rc": 1, "start": "2018-06-05 14:41:50.274212", "stderr": "", "stdout": "0", "stdout_lines": ["0"], "warnings": []}
2018-06-05 14:41:51,624 p=24976 u=stack |  ...ignoring
2018-06-05 14:41:51,628 p=24976 u=stack |  TASK [Waiting for the OSP Controller nodes to come back online] ****************
2018-06-05 14:41:52,016 p=24976 u=stack |  ok: [localhost] => (item=overcloud-controller-0)
2018-06-05 14:41:52,021 p=24976 u=stack |  TASK [Waiting for the Ceph monitor nodes to come back online] ******************
2018-06-05 14:41:52,259 p=24976 u=stack |  ok: [localhost] => (item=overcloud-controller-0)
2018-06-05 14:41:52,264 p=24976 u=stack |  TASK [Waiting for the Ceph OSD nodes to come back online] **********************
2018-06-05 14:41:52,495 p=24976 u=stack |  ok: [localhost] => (item=overcloud-cephstorage-0)
2018-06-05 14:41:52,504 p=24976 u=stack |  TASK [Wait for 60 seconds before continuing] ***********************************
2018-06-05 14:42:52,769 p=24976 u=stack |  ok: [localhost -> localhost]
2018-06-05 14:42:52,774 p=24976 u=stack |  PLAY [ceph-mons] ***************************************************************
2018-06-05 14:42:52,786 p=24976 u=stack |  TASK [setup] *******************************************************************
2018-06-05 14:42:56,258 p=24976 u=stack |  ok: [overcloud-controller-0]
2018-06-05 14:42:56,266 p=24976 u=stack |  TASK [Checking Ceph health till number of OSDs up crosses threshold] ***********
2018-06-05 14:42:56,859 p=24976 u=stack |  changed: [overcloud-controller-0]
2018-06-05 14:42:56,863 p=24976 u=stack |  PLAY [localhost] ***************************************************************
2018-06-05 14:42:56,870 p=24976 u=stack |  TASK [setup] *******************************************************************
2018-06-05 14:43:00,487 p=24976 u=stack |  ok: [localhost]
2018-06-05 14:43:00,492 p=24976 u=stack |  TASK [Find computes_p1 instance ids] *******************************************
2018-06-05 14:43:02,870 p=24976 u=stack |  changed: [localhost] => (item=overcloud-compute-0)
2018-06-05 14:43:05,210 p=24976 u=stack |  changed: [localhost] => (item=overcloud-compute-1)
2018-06-05 14:43:05,215 p=24976 u=stack |  TASK [Find computes_p1 baremetal node uuids] ***********************************
2018-06-05 14:43:06,754 p=24976 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'92005d48-b779-438a-89f0-5dd3d06a99e0', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-05 14:43:02.839620', u'start': u'2018-06-05 14:43:00.699530', u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", 'item': u'overcloud-compute-0', u'delta': u'0:00:02.140090', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'92005d48-b779-438a-89f0-5dd3d06a99e0'], u'stderr': u''})
2018-06-05 14:43:08,206 p=24976 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'99efcced-e695-4443-9e0c-c589af606be9', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-05 14:43:05.186564', u'start': u'2018-06-05 14:43:03.001604', u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", 'item': u'overcloud-compute-1', u'delta': u'0:00:02.184960', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'99efcced-e695-4443-9e0c-c589af606be9'], u'stderr': u''})
2018-06-05 14:43:08,216 p=24976 u=stack |  TASK [Poweron computes_p1] *****************************************************
2018-06-05 14:43:09,853 p=24976 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-05 14:43:06.735530', u'start': u'2018-06-05 14:43:05.418624', u'cmd': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 92005d48-b779-438a-89f0-5dd3d06a99e0 --fields uuid', 'item': {'_ansible_parsed': True, u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", u'end': u'2018-06-05 14:43:02.839620', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'changed': True, u'rc': 0, u'stdout': u'92005d48-b779-438a-89f0-5dd3d06a99e0', 'item': u'overcloud-compute-0', u'stderr': u'', u'delta': u'0:00:02.140090', 'invocation': {'module_name': u'command', u'module_args': {u'warn': True, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", u'removes': None, u'creates': None, u'chdir': None}}, 'stdout_lines': [u'92005d48-b779-438a-89f0-5dd3d06a99e0'], u'start': u'2018-06-05 14:43:00.699530'}, u'delta': u'0:00:01.316906', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 92005d48-b779-438a-89f0-5dd3d06a99e0 --fields uuid', u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6'], u'stderr': u''})
2018-06-05 14:43:11,320 p=24976 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'd1f438de-e234-4a19-a866-777e9c8a19d1', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-05 14:43:08.189184', u'start': u'2018-06-05 14:43:06.896495', u'cmd': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 99efcced-e695-4443-9e0c-c589af606be9 --fields uuid', 'item': {'_ansible_parsed': True, u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", u'end': u'2018-06-05 14:43:05.186564', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'changed': True, u'rc': 0, u'stdout': u'99efcced-e695-4443-9e0c-c589af606be9', 'item': u'overcloud-compute-1', u'stderr': u'', u'delta': u'0:00:02.184960', 'invocation': {'module_name': u'command', u'module_args': {u'warn': True, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", u'removes': None, u'creates': None, u'chdir': None}}, 'stdout_lines': [u'99efcced-e695-4443-9e0c-c589af606be9'], u'start': u'2018-06-05 14:43:03.001604'}, u'delta': u'0:00:01.292689', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 99efcced-e695-4443-9e0c-c589af606be9 --fields uuid', u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'd1f438de-e234-4a19-a866-777e9c8a19d1'], u'stderr': u''})
2018-06-05 14:43:11,328 p=24976 u=stack |  TASK [Wait between computes p1 and p2] *****************************************
2018-06-05 14:43:11,384 p=24976 u=stack |  skipping: [localhost]
2018-06-05 14:43:11,388 p=24976 u=stack |  TASK [Find computes_p2 instance ids] *******************************************
2018-06-05 14:43:11,441 p=24976 u=stack |  skipping: [localhost] => (item=None) 
2018-06-05 14:43:11,446 p=24976 u=stack |  TASK [Find computes_p2 baremetal node uuids] ***********************************
2018-06-05 14:43:11,499 p=24976 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False}) 
2018-06-05 14:43:11,504 p=24976 u=stack |  TASK [Poweron computes_p2] *****************************************************
2018-06-05 14:43:11,558 p=24976 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': {'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False}, 'changed': False}) 
2018-06-05 14:43:11,566 p=24976 u=stack |  TASK [Wait between computes p2 and p3] *****************************************
2018-06-05 14:43:11,619 p=24976 u=stack |  skipping: [localhost]
2018-06-05 14:43:11,624 p=24976 u=stack |  TASK [Find computes_p3 instance ids] *******************************************
2018-06-05 14:43:11,674 p=24976 u=stack |  skipping: [localhost] => (item=None) 
2018-06-05 14:43:11,679 p=24976 u=stack |  TASK [Find computes_p3 baremetal node uuids] ***********************************
2018-06-05 14:43:11,733 p=24976 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False}) 
2018-06-05 14:43:11,738 p=24976 u=stack |  TASK [Poweron computes_p3] *****************************************************
2018-06-05 14:43:11,789 p=24976 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': {'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False}, 'changed': False}) 
2018-06-05 14:43:11,798 p=24976 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 14:43:11,798 p=24976 u=stack |  localhost                  : ok=12   changed=4    unreachable=0    failed=0   
2018-06-05 14:43:11,798 p=24976 u=stack |  overcloud-controller-0     : ok=2    changed=1    unreachable=0    failed=0   
2018-06-05 15:47:30,240 p=32128 u=stack |  PLAY [Power on Compute nodes] **************************************************
2018-06-05 15:47:30,303 p=32128 u=stack |  TASK [setup] *******************************************************************
2018-06-05 15:47:34,220 p=32128 u=stack |  ok: [localhost]
2018-06-05 15:47:34,225 p=32128 u=stack |  TASK [Initialize count] ********************************************************
2018-06-05 15:47:34,256 p=32128 u=stack |  ok: [localhost]
2018-06-05 15:47:34,261 p=32128 u=stack |  TASK [Add length of p1] ********************************************************
2018-06-05 15:47:34,323 p=32128 u=stack |  ok: [localhost]
2018-06-05 15:47:34,328 p=32128 u=stack |  TASK [Add length of p2] ********************************************************
2018-06-05 15:47:34,379 p=32128 u=stack |  skipping: [localhost]
2018-06-05 15:47:34,384 p=32128 u=stack |  TASK [Add length of p3] ********************************************************
2018-06-05 15:47:34,434 p=32128 u=stack |  skipping: [localhost]
2018-06-05 15:47:34,439 p=32128 u=stack |  TASK [Checking to see if any Compute nodes are powered on] *********************
2018-06-05 15:47:36,088 p=32128 u=stack |  fatal: [localhost]: FAILED! => {"changed": true, "cmd": "source /home/stack/stackrc; openstack baremetal node list -f value --fields name power_state | grep -i compute | grep -c \"power off\"", "delta": "0:00:01.367346", "end": "2018-06-05 15:47:36.062658", "failed": true, "rc": 1, "start": "2018-06-05 15:47:34.695312", "stderr": "", "stdout": "0", "stdout_lines": ["0"], "warnings": []}
2018-06-05 15:47:36,088 p=32128 u=stack |  ...ignoring
2018-06-05 15:47:36,092 p=32128 u=stack |  TASK [Waiting for the OSP Controller nodes to come back online] ****************
2018-06-05 15:47:36,454 p=32128 u=stack |  ok: [localhost] => (item=overcloud-controller-0)
2018-06-05 15:47:36,463 p=32128 u=stack |  TASK [Waiting for the Ceph monitor nodes to come back online] ******************
2018-06-05 15:47:36,696 p=32128 u=stack |  ok: [localhost] => (item=overcloud-controller-0)
2018-06-05 15:47:36,700 p=32128 u=stack |  TASK [Waiting for the Ceph OSD nodes to come back online] **********************
2018-06-05 15:47:36,929 p=32128 u=stack |  ok: [localhost] => (item=overcloud-cephstorage-0)
2018-06-05 15:47:36,938 p=32128 u=stack |  TASK [Wait for 60 seconds before continuing] ***********************************
2018-06-05 15:48:37,203 p=32128 u=stack |  ok: [localhost -> localhost]
2018-06-05 15:48:37,208 p=32128 u=stack |  PLAY [ceph-mons] ***************************************************************
2018-06-05 15:48:37,220 p=32128 u=stack |  TASK [setup] *******************************************************************
2018-06-05 15:48:39,612 p=32128 u=stack |  ok: [overcloud-controller-0]
2018-06-05 15:48:39,620 p=32128 u=stack |  TASK [Checking Ceph health till number of OSDs up crosses threshold] ***********
2018-06-05 15:48:40,205 p=32128 u=stack |  changed: [overcloud-controller-0]
2018-06-05 15:48:40,208 p=32128 u=stack |  PLAY [localhost] ***************************************************************
2018-06-05 15:48:40,214 p=32128 u=stack |  TASK [setup] *******************************************************************
2018-06-05 15:48:43,844 p=32128 u=stack |  ok: [localhost]
2018-06-05 15:48:43,849 p=32128 u=stack |  TASK [Find computes_p1 instance ids] *******************************************
2018-06-05 15:48:46,344 p=32128 u=stack |  changed: [localhost] => (item=overcloud-compute-0)
2018-06-05 15:48:48,720 p=32128 u=stack |  changed: [localhost] => (item=overcloud-compute-1)
2018-06-05 15:48:48,725 p=32128 u=stack |  TASK [Find computes_p1 baremetal node uuids] ***********************************
2018-06-05 15:48:50,235 p=32128 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'92005d48-b779-438a-89f0-5dd3d06a99e0', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-05 15:48:46.323700', u'start': u'2018-06-05 15:48:44.045465', u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", 'item': u'overcloud-compute-0', u'delta': u'0:00:02.278235', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'92005d48-b779-438a-89f0-5dd3d06a99e0'], u'stderr': u''})
2018-06-05 15:48:51,694 p=32128 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'99efcced-e695-4443-9e0c-c589af606be9', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-05 15:48:48.698512', u'start': u'2018-06-05 15:48:46.485101', u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", 'item': u'overcloud-compute-1', u'delta': u'0:00:02.213411', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'99efcced-e695-4443-9e0c-c589af606be9'], u'stderr': u''})
2018-06-05 15:48:51,698 p=32128 u=stack |  TASK [Poweron computes_p1] *****************************************************
2018-06-05 15:48:53,307 p=32128 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-05 15:48:50.215670', u'start': u'2018-06-05 15:48:48.927414', u'cmd': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 92005d48-b779-438a-89f0-5dd3d06a99e0 --fields uuid', 'item': {'_ansible_parsed': True, u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", u'end': u'2018-06-05 15:48:46.323700', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'changed': True, u'rc': 0, u'stdout': u'92005d48-b779-438a-89f0-5dd3d06a99e0', 'item': u'overcloud-compute-0', u'stderr': u'', u'delta': u'0:00:02.278235', 'invocation': {'module_name': u'command', u'module_args': {u'warn': True, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", u'removes': None, u'creates': None, u'chdir': None}}, 'stdout_lines': [u'92005d48-b779-438a-89f0-5dd3d06a99e0'], u'start': u'2018-06-05 15:48:44.045465'}, u'delta': u'0:00:01.288256', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 92005d48-b779-438a-89f0-5dd3d06a99e0 --fields uuid', u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6'], u'stderr': u''})
2018-06-05 15:48:54,784 p=32128 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'd1f438de-e234-4a19-a866-777e9c8a19d1', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-05 15:48:51.670993', u'start': u'2018-06-05 15:48:50.371702', u'cmd': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 99efcced-e695-4443-9e0c-c589af606be9 --fields uuid', 'item': {'_ansible_parsed': True, u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", u'end': u'2018-06-05 15:48:48.698512', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'changed': True, u'rc': 0, u'stdout': u'99efcced-e695-4443-9e0c-c589af606be9', 'item': u'overcloud-compute-1', u'stderr': u'', u'delta': u'0:00:02.213411', 'invocation': {'module_name': u'command', u'module_args': {u'warn': True, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", u'removes': None, u'creates': None, u'chdir': None}}, 'stdout_lines': [u'99efcced-e695-4443-9e0c-c589af606be9'], u'start': u'2018-06-05 15:48:46.485101'}, u'delta': u'0:00:01.299291', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 99efcced-e695-4443-9e0c-c589af606be9 --fields uuid', u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'd1f438de-e234-4a19-a866-777e9c8a19d1'], u'stderr': u''})
2018-06-05 15:48:54,793 p=32128 u=stack |  TASK [Wait between computes p1 and p2] *****************************************
2018-06-05 15:48:54,854 p=32128 u=stack |  skipping: [localhost]
2018-06-05 15:48:54,859 p=32128 u=stack |  TASK [Find computes_p2 instance ids] *******************************************
2018-06-05 15:48:54,913 p=32128 u=stack |  skipping: [localhost] => (item=None) 
2018-06-05 15:48:54,918 p=32128 u=stack |  TASK [Find computes_p2 baremetal node uuids] ***********************************
2018-06-05 15:48:54,968 p=32128 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False}) 
2018-06-05 15:48:54,980 p=32128 u=stack |  TASK [Poweron computes_p2] *****************************************************
2018-06-05 15:48:55,037 p=32128 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': {'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False}, 'changed': False}) 
2018-06-05 15:48:55,047 p=32128 u=stack |  TASK [Wait between computes p2 and p3] *****************************************
2018-06-05 15:48:55,107 p=32128 u=stack |  skipping: [localhost]
2018-06-05 15:48:55,112 p=32128 u=stack |  TASK [Find computes_p3 instance ids] *******************************************
2018-06-05 15:48:55,164 p=32128 u=stack |  skipping: [localhost] => (item=None) 
2018-06-05 15:48:55,174 p=32128 u=stack |  TASK [Find computes_p3 baremetal node uuids] ***********************************
2018-06-05 15:48:55,233 p=32128 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False}) 
2018-06-05 15:48:55,238 p=32128 u=stack |  TASK [Poweron computes_p3] *****************************************************
2018-06-05 15:48:55,299 p=32128 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': {'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False}, 'changed': False}) 
2018-06-05 15:48:55,301 p=32128 u=stack |  PLAY RECAP *********************************************************************
2018-06-05 15:48:55,301 p=32128 u=stack |  localhost                  : ok=12   changed=4    unreachable=0    failed=0   
2018-06-05 15:48:55,301 p=32128 u=stack |  overcloud-controller-0     : ok=2    changed=1    unreachable=0    failed=0   
2018-06-06 09:08:13,776 p=1106 u=stack |  playbook: poweron_computes.yml
2018-06-06 09:08:25,091 p=1136 u=stack |  Using /home/stack/playbooks/PowerOnComputes/ansible.cfg as config file
2018-06-06 09:08:25,306 p=1136 u=stack |  PLAYBOOK: poweron_computes.yml *************************************************
2018-06-06 09:08:25,306 p=1136 u=stack |  3 plays in poweron_computes.yml
2018-06-06 09:08:25,309 p=1136 u=stack |  PLAY [Power on Compute nodes] **************************************************
2018-06-06 09:08:25,383 p=1136 u=stack |  TASK [Initialize count] ********************************************************
2018-06-06 09:08:25,383 p=1136 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:6
2018-06-06 09:08:25,440 p=1136 u=stack |  ok: [localhost] => {
    "ansible_facts": {
        "compute_count": 0
    }, 
    "changed": false, 
    "invocation": {
        "module_args": {
            "compute_count": 0
        }, 
        "module_name": "set_fact"
    }
}
2018-06-06 09:08:25,445 p=1136 u=stack |  TASK [Add length of p1] ********************************************************
2018-06-06 09:08:25,445 p=1136 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:9
2018-06-06 09:08:25,524 p=1136 u=stack |  ok: [localhost] => {
    "ansible_facts": {
        "compute_count": "2"
    }, 
    "changed": false, 
    "invocation": {
        "module_args": {
            "compute_count": "2"
        }, 
        "module_name": "set_fact"
    }
}
2018-06-06 09:08:25,529 p=1136 u=stack |  TASK [Add length of p2] ********************************************************
2018-06-06 09:08:25,529 p=1136 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:13
2018-06-06 09:08:25,581 p=1136 u=stack |  skipping: [localhost] => {
    "changed": false, 
    "skip_reason": "Conditional check failed", 
    "skipped": true
}
2018-06-06 09:08:25,586 p=1136 u=stack |  TASK [Add length of p3] ********************************************************
2018-06-06 09:08:25,586 p=1136 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:17
2018-06-06 09:08:25,635 p=1136 u=stack |  skipping: [localhost] => {
    "changed": false, 
    "skip_reason": "Conditional check failed", 
    "skipped": true
}
2018-06-06 09:08:25,639 p=1136 u=stack |  TASK [Checking to see if any Compute nodes are powered on] *********************
2018-06-06 09:08:25,639 p=1136 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:21
2018-06-06 09:08:25,816 p=1136 u=stack |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/core/commands/command.py
2018-06-06 09:08:27,422 p=1136 u=stack |  fatal: [localhost]: FAILED! => {
    "changed": true, 
    "cmd": "source /home/stack/stackrc; openstack baremetal node list -f value --fields name power_state | grep -i compute | grep -c \"power off\"", 
    "delta": "0:00:01.401091", 
    "end": "2018-06-06 09:08:27.399284", 
    "failed": true, 
    "invocation": {
        "module_args": {
            "_raw_params": "source /home/stack/stackrc; openstack baremetal node list -f value --fields name power_state | grep -i compute | grep -c \"power off\"", 
            "_uses_shell": true, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "warn": true
        }, 
        "module_name": "command"
    }, 
    "rc": 1, 
    "start": "2018-06-06 09:08:25.998193", 
    "stderr": "", 
    "stdout": "0", 
    "stdout_lines": [
        "0"
    ], 
    "warnings": []
}
2018-06-06 09:08:27,422 p=1136 u=stack |  ...ignoring
2018-06-06 09:08:27,427 p=1136 u=stack |  TASK [fail] ********************************************************************
2018-06-06 09:08:27,427 p=1136 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:29
2018-06-06 09:08:27,489 p=1136 u=stack |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "msg": "This does not seem to be a complete power outage"
        }, 
        "module_name": "fail"
    }, 
    "msg": "This does not seem to be a complete power outage"
}
2018-06-06 09:08:27,490 p=1136 u=stack |  	to retry, use: --limit @/home/stack/playbooks/PowerOnComputes/poweron_computes.retry

2018-06-06 09:08:27,490 p=1136 u=stack |  PLAY RECAP *********************************************************************
2018-06-06 09:08:27,490 p=1136 u=stack |  localhost                  : ok=3    changed=1    unreachable=0    failed=1   
2018-06-06 09:14:08,248 p=1820 u=stack |  Using /home/stack/playbooks/PowerOnComputes/ansible.cfg as config file
2018-06-06 09:14:08,440 p=1820 u=stack |  PLAYBOOK: poweron_computes.yml *************************************************
2018-06-06 09:14:08,440 p=1820 u=stack |  3 plays in poweron_computes.yml
2018-06-06 09:14:08,443 p=1820 u=stack |  PLAY [Power on Compute nodes] **************************************************
2018-06-06 09:14:08,501 p=1820 u=stack |  TASK [Initialize count] ********************************************************
2018-06-06 09:14:08,501 p=1820 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:6
2018-06-06 09:14:08,532 p=1820 u=stack |  ok: [localhost] => {
    "ansible_facts": {
        "compute_count": 0
    }, 
    "changed": false, 
    "invocation": {
        "module_args": {
            "compute_count": 0
        }, 
        "module_name": "set_fact"
    }
}
2018-06-06 09:14:08,537 p=1820 u=stack |  TASK [Add length of p1] ********************************************************
2018-06-06 09:14:08,537 p=1820 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:9
2018-06-06 09:14:08,596 p=1820 u=stack |  ok: [localhost] => {
    "ansible_facts": {
        "compute_count": "2"
    }, 
    "changed": false, 
    "invocation": {
        "module_args": {
            "compute_count": "2"
        }, 
        "module_name": "set_fact"
    }
}
2018-06-06 09:14:08,601 p=1820 u=stack |  TASK [Add length of p2] ********************************************************
2018-06-06 09:14:08,601 p=1820 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:13
2018-06-06 09:14:08,649 p=1820 u=stack |  skipping: [localhost] => {
    "changed": false, 
    "skip_reason": "Conditional check failed", 
    "skipped": true
}
2018-06-06 09:14:08,654 p=1820 u=stack |  TASK [Add length of p3] ********************************************************
2018-06-06 09:14:08,654 p=1820 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:17
2018-06-06 09:14:08,702 p=1820 u=stack |  skipping: [localhost] => {
    "changed": false, 
    "skip_reason": "Conditional check failed", 
    "skipped": true
}
2018-06-06 09:14:08,706 p=1820 u=stack |  TASK [Checking to see if any Compute nodes are powered on] *********************
2018-06-06 09:14:08,706 p=1820 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:21
2018-06-06 09:14:08,843 p=1820 u=stack |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/core/commands/command.py
2018-06-06 09:14:10,293 p=1820 u=stack |  fatal: [localhost]: FAILED! => {
    "changed": true, 
    "cmd": "source /home/stack/stackrc; openstack baremetal node list -f value --fields name power_state | grep -i compute | grep -c \"power off\"", 
    "delta": "0:00:01.284894", 
    "end": "2018-06-06 09:14:10.265063", 
    "failed": true, 
    "invocation": {
        "module_args": {
            "_raw_params": "source /home/stack/stackrc; openstack baremetal node list -f value --fields name power_state | grep -i compute | grep -c \"power off\"", 
            "_uses_shell": true, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "warn": true
        }, 
        "module_name": "command"
    }, 
    "rc": 1, 
    "start": "2018-06-06 09:14:08.980169", 
    "stderr": "", 
    "stdout": "0", 
    "stdout_lines": [
        "0"
    ], 
    "warnings": []
}
2018-06-06 09:14:10,293 p=1820 u=stack |  ...ignoring
2018-06-06 09:14:10,298 p=1820 u=stack |  TASK [Waiting for the OSP Controller nodes to come back online] ****************
2018-06-06 09:14:10,298 p=1820 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:32
2018-06-06 09:14:10,449 p=1820 u=stack |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/core/utilities/logic/wait_for.py
2018-06-06 09:14:10,621 p=1820 u=stack |  ok: [localhost] => (item=overcloud-controller-0) => {
    "changed": false, 
    "elapsed": 0, 
    "invocation": {
        "module_args": {
            "connect_timeout": 5, 
            "delay": 0, 
            "exclude_hosts": null, 
            "host": "overcloud-controller-0", 
            "path": null, 
            "port": 22, 
            "search_regex": null, 
            "state": "started", 
            "timeout": 300
        }, 
        "module_name": "wait_for"
    }, 
    "item": "overcloud-controller-0", 
    "path": null, 
    "port": 22, 
    "search_regex": null, 
    "state": "started"
}
2018-06-06 09:14:10,626 p=1820 u=stack |  TASK [Waiting for the Ceph monitor nodes to come back online] ******************
2018-06-06 09:14:10,626 p=1820 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:38
2018-06-06 09:14:10,686 p=1820 u=stack |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/core/utilities/logic/wait_for.py
2018-06-06 09:14:10,859 p=1820 u=stack |  ok: [localhost] => (item=overcloud-controller-0) => {
    "changed": false, 
    "elapsed": 0, 
    "invocation": {
        "module_args": {
            "connect_timeout": 5, 
            "delay": 0, 
            "exclude_hosts": null, 
            "host": "overcloud-controller-0", 
            "path": null, 
            "port": 22, 
            "search_regex": null, 
            "state": "started", 
            "timeout": 300
        }, 
        "module_name": "wait_for"
    }, 
    "item": "overcloud-controller-0", 
    "path": null, 
    "port": 22, 
    "search_regex": null, 
    "state": "started"
}
2018-06-06 09:14:10,864 p=1820 u=stack |  TASK [Waiting for the Ceph OSD nodes to come back online] **********************
2018-06-06 09:14:10,864 p=1820 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:44
2018-06-06 09:14:10,921 p=1820 u=stack |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/core/utilities/logic/wait_for.py
2018-06-06 09:14:11,090 p=1820 u=stack |  ok: [localhost] => (item=overcloud-cephstorage-0) => {
    "changed": false, 
    "elapsed": 0, 
    "invocation": {
        "module_args": {
            "connect_timeout": 5, 
            "delay": 0, 
            "exclude_hosts": null, 
            "host": "overcloud-cephstorage-0", 
            "path": null, 
            "port": 22, 
            "search_regex": null, 
            "state": "started", 
            "timeout": 300
        }, 
        "module_name": "wait_for"
    }, 
    "item": "overcloud-cephstorage-0", 
    "path": null, 
    "port": 22, 
    "search_regex": null, 
    "state": "started"
}
2018-06-06 09:14:11,098 p=1820 u=stack |  TASK [Wait for 60 seconds before continuing] ***********************************
2018-06-06 09:14:11,099 p=1820 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:50
2018-06-06 09:14:11,122 p=1820 u=stack |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/core/utilities/logic/wait_for.py
2018-06-06 09:15:11,357 p=1820 u=stack |  ok: [localhost -> localhost] => {
    "changed": false, 
    "elapsed": 60, 
    "invocation": {
        "module_args": {
            "connect_timeout": 5, 
            "delay": 0, 
            "exclude_hosts": null, 
            "host": "127.0.0.1", 
            "path": null, 
            "port": null, 
            "search_regex": null, 
            "state": "started", 
            "timeout": 60
        }, 
        "module_name": "wait_for"
    }, 
    "path": null, 
    "port": null, 
    "search_regex": null, 
    "state": "started"
}
2018-06-06 09:15:11,361 p=1820 u=stack |  PLAY [ceph-mons] ***************************************************************
2018-06-06 09:15:11,374 p=1820 u=stack |  TASK [setup] *******************************************************************
2018-06-06 09:15:11,631 p=1820 u=stack |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/core/system/setup.py
2018-06-06 09:15:14,007 p=1820 u=stack |  ok: [overcloud-controller-0]
2018-06-06 09:15:14,016 p=1820 u=stack |  TASK [Checking Ceph health till number of OSDs up crosses threshold] ***********
2018-06-06 09:15:14,016 p=1820 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:56
2018-06-06 09:15:14,617 p=1820 u=stack |  changed: [overcloud-controller-0] => {
    "changed": true, 
    "invocation": {
        "module_args": {
            "_raw_params": "ceph_health.sh 900 0.9"
        }, 
        "module_name": "script"
    }, 
    "rc": 0, 
    "stderr": "Shared connection to overcloud-controller-0 closed.\r\n", 
    "stdout": "", 
    "stdout_lines": []
}
2018-06-06 09:15:14,620 p=1820 u=stack |  PLAY [localhost] ***************************************************************
2018-06-06 09:15:14,627 p=1820 u=stack |  TASK [setup] *******************************************************************
2018-06-06 09:15:14,651 p=1820 u=stack |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/core/system/setup.py
2018-06-06 09:15:18,255 p=1820 u=stack |  ok: [localhost]
2018-06-06 09:15:18,260 p=1820 u=stack |  TASK [Find computes_p1 instance ids] *******************************************
2018-06-06 09:15:18,260 p=1820 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:71
2018-06-06 09:15:18,322 p=1820 u=stack |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/core/commands/command.py
2018-06-06 09:15:20,733 p=1820 u=stack |  changed: [localhost] => (item=overcloud-compute-0) => {
    "changed": true, 
    "cmd": "source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", 
    "delta": "0:00:02.259930", 
    "end": "2018-06-06 09:15:20.713255", 
    "invocation": {
        "module_args": {
            "_raw_params": "source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", 
            "_uses_shell": true, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "warn": true
        }, 
        "module_name": "command"
    }, 
    "item": "overcloud-compute-0", 
    "rc": 0, 
    "start": "2018-06-06 09:15:18.453325", 
    "stderr": "", 
    "stdout": "92005d48-b779-438a-89f0-5dd3d06a99e0", 
    "stdout_lines": [
        "92005d48-b779-438a-89f0-5dd3d06a99e0"
    ], 
    "warnings": []
}
2018-06-06 09:15:20,740 p=1820 u=stack |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/core/commands/command.py
2018-06-06 09:15:23,272 p=1820 u=stack |  changed: [localhost] => (item=overcloud-compute-1) => {
    "changed": true, 
    "cmd": "source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", 
    "delta": "0:00:02.374669", 
    "end": "2018-06-06 09:15:23.247067", 
    "invocation": {
        "module_args": {
            "_raw_params": "source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", 
            "_uses_shell": true, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "warn": true
        }, 
        "module_name": "command"
    }, 
    "item": "overcloud-compute-1", 
    "rc": 0, 
    "start": "2018-06-06 09:15:20.872398", 
    "stderr": "", 
    "stdout": "99efcced-e695-4443-9e0c-c589af606be9", 
    "stdout_lines": [
        "99efcced-e695-4443-9e0c-c589af606be9"
    ], 
    "warnings": []
}
2018-06-06 09:15:23,277 p=1820 u=stack |  TASK [Find computes_p1 baremetal node uuids] ***********************************
2018-06-06 09:15:23,277 p=1820 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:78
2018-06-06 09:15:23,372 p=1820 u=stack |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/core/commands/command.py
2018-06-06 09:15:24,816 p=1820 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'92005d48-b779-438a-89f0-5dd3d06a99e0', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-06 09:15:20.713255', u'start': u'2018-06-06 09:15:18.453325', u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", 'item': u'overcloud-compute-0', u'delta': u'0:00:02.259930', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'92005d48-b779-438a-89f0-5dd3d06a99e0'], u'stderr': u''}) => {
    "changed": true, 
    "cmd": "source /home/stack/stackrc; openstack baremetal node show -f value --instance 92005d48-b779-438a-89f0-5dd3d06a99e0 --fields uuid", 
    "delta": "0:00:01.286688", 
    "end": "2018-06-06 09:15:24.796159", 
    "invocation": {
        "module_args": {
            "_raw_params": "source /home/stack/stackrc; openstack baremetal node show -f value --instance 92005d48-b779-438a-89f0-5dd3d06a99e0 --fields uuid", 
            "_uses_shell": true, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "warn": true
        }, 
        "module_name": "command"
    }, 
    "item": {
        "changed": true, 
        "cmd": "source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", 
        "delta": "0:00:02.259930", 
        "end": "2018-06-06 09:15:20.713255", 
        "invocation": {
            "module_args": {
                "_raw_params": "source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", 
                "_uses_shell": true, 
                "chdir": null, 
                "creates": null, 
                "executable": null, 
                "removes": null, 
                "warn": true
            }, 
            "module_name": "command"
        }, 
        "item": "overcloud-compute-0", 
        "rc": 0, 
        "start": "2018-06-06 09:15:18.453325", 
        "stderr": "", 
        "stdout": "92005d48-b779-438a-89f0-5dd3d06a99e0", 
        "stdout_lines": [
            "92005d48-b779-438a-89f0-5dd3d06a99e0"
        ], 
        "warnings": []
    }, 
    "rc": 0, 
    "start": "2018-06-06 09:15:23.509471", 
    "stderr": "", 
    "stdout": "ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6", 
    "stdout_lines": [
        "ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6"
    ], 
    "warnings": []
}
2018-06-06 09:15:24,822 p=1820 u=stack |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/core/commands/command.py
2018-06-06 09:15:26,356 p=1820 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'99efcced-e695-4443-9e0c-c589af606be9', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-06 09:15:23.247067', u'start': u'2018-06-06 09:15:20.872398', u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", 'item': u'overcloud-compute-1', u'delta': u'0:00:02.374669', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'99efcced-e695-4443-9e0c-c589af606be9'], u'stderr': u''}) => {
    "changed": true, 
    "cmd": "source /home/stack/stackrc; openstack baremetal node show -f value --instance 99efcced-e695-4443-9e0c-c589af606be9 --fields uuid", 
    "delta": "0:00:01.380621", 
    "end": "2018-06-06 09:15:26.333786", 
    "invocation": {
        "module_args": {
            "_raw_params": "source /home/stack/stackrc; openstack baremetal node show -f value --instance 99efcced-e695-4443-9e0c-c589af606be9 --fields uuid", 
            "_uses_shell": true, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "warn": true
        }, 
        "module_name": "command"
    }, 
    "item": {
        "changed": true, 
        "cmd": "source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", 
        "delta": "0:00:02.374669", 
        "end": "2018-06-06 09:15:23.247067", 
        "invocation": {
            "module_args": {
                "_raw_params": "source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", 
                "_uses_shell": true, 
                "chdir": null, 
                "creates": null, 
                "executable": null, 
                "removes": null, 
                "warn": true
            }, 
            "module_name": "command"
        }, 
        "item": "overcloud-compute-1", 
        "rc": 0, 
        "start": "2018-06-06 09:15:20.872398", 
        "stderr": "", 
        "stdout": "99efcced-e695-4443-9e0c-c589af606be9", 
        "stdout_lines": [
            "99efcced-e695-4443-9e0c-c589af606be9"
        ], 
        "warnings": []
    }, 
    "rc": 0, 
    "start": "2018-06-06 09:15:24.953165", 
    "stderr": "", 
    "stdout": "d1f438de-e234-4a19-a866-777e9c8a19d1", 
    "stdout_lines": [
        "d1f438de-e234-4a19-a866-777e9c8a19d1"
    ], 
    "warnings": []
}
2018-06-06 09:15:26,361 p=1820 u=stack |  TASK [Poweron computes_p1] *****************************************************
2018-06-06 09:15:26,361 p=1820 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:85
2018-06-06 09:15:26,424 p=1820 u=stack |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/core/commands/command.py
2018-06-06 09:15:27,902 p=1820 u=stack |  Using module file /usr/lib/python2.7/site-packages/ansible/modules/core/commands/command.py
2018-06-06 09:15:27,906 p=1820 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-06 09:15:24.796159', u'start': u'2018-06-06 09:15:23.509471', u'cmd': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 92005d48-b779-438a-89f0-5dd3d06a99e0 --fields uuid', 'item': {'_ansible_parsed': True, u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", u'end': u'2018-06-06 09:15:20.713255', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'changed': True, u'rc': 0, u'stdout': u'92005d48-b779-438a-89f0-5dd3d06a99e0', 'item': u'overcloud-compute-0', u'stderr': u'', u'delta': u'0:00:02.259930', 'invocation': {'module_name': u'command', u'module_args': {u'warn': True, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", u'removes': None, u'creates': None, u'chdir': None}}, 'stdout_lines': [u'92005d48-b779-438a-89f0-5dd3d06a99e0'], u'start': u'2018-06-06 09:15:18.453325'}, u'delta': u'0:00:01.286688', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 92005d48-b779-438a-89f0-5dd3d06a99e0 --fields uuid', u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6'], u'stderr': u''}) => {
    "changed": true, 
    "cmd": "source /home/stack/stackrc; openstack baremetal node power on ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6", 
    "delta": "0:00:01.321830", 
    "end": "2018-06-06 09:15:27.876989", 
    "invocation": {
        "module_args": {
            "_raw_params": "source /home/stack/stackrc; openstack baremetal node power on ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6", 
            "_uses_shell": true, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "warn": true
        }, 
        "module_name": "command"
    }, 
    "item": {
        "changed": true, 
        "cmd": "source /home/stack/stackrc; openstack baremetal node show -f value --instance 92005d48-b779-438a-89f0-5dd3d06a99e0 --fields uuid", 
        "delta": "0:00:01.286688", 
        "end": "2018-06-06 09:15:24.796159", 
        "invocation": {
            "module_args": {
                "_raw_params": "source /home/stack/stackrc; openstack baremetal node show -f value --instance 92005d48-b779-438a-89f0-5dd3d06a99e0 --fields uuid", 
                "_uses_shell": true, 
                "chdir": null, 
                "creates": null, 
                "executable": null, 
                "removes": null, 
                "warn": true
            }, 
            "module_name": "command"
        }, 
        "item": {
            "changed": true, 
            "cmd": "source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", 
            "delta": "0:00:02.259930", 
            "end": "2018-06-06 09:15:20.713255", 
            "invocation": {
                "module_args": {
                    "_raw_params": "source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", 
                    "_uses_shell": true, 
                    "chdir": null, 
                    "creates": null, 
                    "executable": null, 
                    "removes": null, 
                    "warn": true
                }, 
                "module_name": "command"
            }, 
            "item": "overcloud-compute-0", 
            "rc": 0, 
            "start": "2018-06-06 09:15:18.453325", 
            "stderr": "", 
            "stdout": "92005d48-b779-438a-89f0-5dd3d06a99e0", 
            "stdout_lines": [
                "92005d48-b779-438a-89f0-5dd3d06a99e0"
            ], 
            "warnings": []
        }, 
        "rc": 0, 
        "start": "2018-06-06 09:15:23.509471", 
        "stderr": "", 
        "stdout": "ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6", 
        "stdout_lines": [
            "ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6"
        ], 
        "warnings": []
    }, 
    "rc": 0, 
    "start": "2018-06-06 09:15:26.555159", 
    "stderr": "", 
    "stdout": "", 
    "stdout_lines": [], 
    "warnings": []
}
2018-06-06 09:15:29,419 p=1820 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'd1f438de-e234-4a19-a866-777e9c8a19d1', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-06 09:15:26.333786', u'start': u'2018-06-06 09:15:24.953165', u'cmd': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 99efcced-e695-4443-9e0c-c589af606be9 --fields uuid', 'item': {'_ansible_parsed': True, u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", u'end': u'2018-06-06 09:15:23.247067', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'changed': True, u'rc': 0, u'stdout': u'99efcced-e695-4443-9e0c-c589af606be9', 'item': u'overcloud-compute-1', u'stderr': u'', u'delta': u'0:00:02.374669', 'invocation': {'module_name': u'command', u'module_args': {u'warn': True, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", u'removes': None, u'creates': None, u'chdir': None}}, 'stdout_lines': [u'99efcced-e695-4443-9e0c-c589af606be9'], u'start': u'2018-06-06 09:15:20.872398'}, u'delta': u'0:00:01.380621', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 99efcced-e695-4443-9e0c-c589af606be9 --fields uuid', u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'd1f438de-e234-4a19-a866-777e9c8a19d1'], u'stderr': u''}) => {
    "changed": true, 
    "cmd": "source /home/stack/stackrc; openstack baremetal node power on d1f438de-e234-4a19-a866-777e9c8a19d1", 
    "delta": "0:00:01.356552", 
    "end": "2018-06-06 09:15:29.393068", 
    "invocation": {
        "module_args": {
            "_raw_params": "source /home/stack/stackrc; openstack baremetal node power on d1f438de-e234-4a19-a866-777e9c8a19d1", 
            "_uses_shell": true, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "warn": true
        }, 
        "module_name": "command"
    }, 
    "item": {
        "changed": true, 
        "cmd": "source /home/stack/stackrc; openstack baremetal node show -f value --instance 99efcced-e695-4443-9e0c-c589af606be9 --fields uuid", 
        "delta": "0:00:01.380621", 
        "end": "2018-06-06 09:15:26.333786", 
        "invocation": {
            "module_args": {
                "_raw_params": "source /home/stack/stackrc; openstack baremetal node show -f value --instance 99efcced-e695-4443-9e0c-c589af606be9 --fields uuid", 
                "_uses_shell": true, 
                "chdir": null, 
                "creates": null, 
                "executable": null, 
                "removes": null, 
                "warn": true
            }, 
            "module_name": "command"
        }, 
        "item": {
            "changed": true, 
            "cmd": "source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", 
            "delta": "0:00:02.374669", 
            "end": "2018-06-06 09:15:23.247067", 
            "invocation": {
                "module_args": {
                    "_raw_params": "source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", 
                    "_uses_shell": true, 
                    "chdir": null, 
                    "creates": null, 
                    "executable": null, 
                    "removes": null, 
                    "warn": true
                }, 
                "module_name": "command"
            }, 
            "item": "overcloud-compute-1", 
            "rc": 0, 
            "start": "2018-06-06 09:15:20.872398", 
            "stderr": "", 
            "stdout": "99efcced-e695-4443-9e0c-c589af606be9", 
            "stdout_lines": [
                "99efcced-e695-4443-9e0c-c589af606be9"
            ], 
            "warnings": []
        }, 
        "rc": 0, 
        "start": "2018-06-06 09:15:24.953165", 
        "stderr": "", 
        "stdout": "d1f438de-e234-4a19-a866-777e9c8a19d1", 
        "stdout_lines": [
            "d1f438de-e234-4a19-a866-777e9c8a19d1"
        ], 
        "warnings": []
    }, 
    "rc": 0, 
    "start": "2018-06-06 09:15:28.036516", 
    "stderr": "", 
    "stdout": "", 
    "stdout_lines": [], 
    "warnings": []
}
2018-06-06 09:15:29,427 p=1820 u=stack |  TASK [Wait between computes p1 and p2] *****************************************
2018-06-06 09:15:29,428 p=1820 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:89
2018-06-06 09:15:29,487 p=1820 u=stack |  skipping: [localhost] => {
    "changed": false, 
    "skip_reason": "Conditional check failed", 
    "skipped": true
}
2018-06-06 09:15:29,492 p=1820 u=stack |  TASK [Find computes_p2 instance ids] *******************************************
2018-06-06 09:15:29,492 p=1820 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:94
2018-06-06 09:15:29,551 p=1820 u=stack |  skipping: [localhost] => (item=None)  => {
    "changed": false, 
    "item": null, 
    "skip_reason": "Conditional check failed", 
    "skipped": true
}
2018-06-06 09:15:29,555 p=1820 u=stack |  TASK [Find computes_p2 baremetal node uuids] ***********************************
2018-06-06 09:15:29,555 p=1820 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:101
2018-06-06 09:15:29,644 p=1820 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False})  => {
    "changed": false, 
    "item": {
        "changed": false, 
        "item": null, 
        "skip_reason": "Conditional check failed", 
        "skipped": true
    }, 
    "skip_reason": "Conditional check failed", 
    "skipped": true
}
2018-06-06 09:15:29,649 p=1820 u=stack |  TASK [Poweron computes_p2] *****************************************************
2018-06-06 09:15:29,649 p=1820 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:106
2018-06-06 09:15:29,736 p=1820 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': {'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False}, 'changed': False})  => {
    "changed": false, 
    "item": {
        "changed": false, 
        "item": {
            "changed": false, 
            "item": null, 
            "skip_reason": "Conditional check failed", 
            "skipped": true
        }, 
        "skip_reason": "Conditional check failed", 
        "skipped": true
    }, 
    "skip_reason": "Conditional check failed", 
    "skipped": true
}
2018-06-06 09:15:29,745 p=1820 u=stack |  TASK [Wait between computes p2 and p3] *****************************************
2018-06-06 09:15:29,745 p=1820 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:110
2018-06-06 09:15:29,802 p=1820 u=stack |  skipping: [localhost] => {
    "changed": false, 
    "skip_reason": "Conditional check failed", 
    "skipped": true
}
2018-06-06 09:15:29,806 p=1820 u=stack |  TASK [Find computes_p3 instance ids] *******************************************
2018-06-06 09:15:29,807 p=1820 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:115
2018-06-06 09:15:29,861 p=1820 u=stack |  skipping: [localhost] => (item=None)  => {
    "changed": false, 
    "item": null, 
    "skip_reason": "Conditional check failed", 
    "skipped": true
}
2018-06-06 09:15:29,866 p=1820 u=stack |  TASK [Find computes_p3 baremetal node uuids] ***********************************
2018-06-06 09:15:29,866 p=1820 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:122
2018-06-06 09:15:29,921 p=1820 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False})  => {
    "changed": false, 
    "item": {
        "changed": false, 
        "item": null, 
        "skip_reason": "Conditional check failed", 
        "skipped": true
    }, 
    "skip_reason": "Conditional check failed", 
    "skipped": true
}
2018-06-06 09:15:29,926 p=1820 u=stack |  TASK [Poweron computes_p3] *****************************************************
2018-06-06 09:15:29,927 p=1820 u=stack |  task path: /home/stack/playbooks/PowerOnComputes/poweron_computes.yml:127
2018-06-06 09:15:29,978 p=1820 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': {'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False}, 'changed': False})  => {
    "changed": false, 
    "item": {
        "changed": false, 
        "item": {
            "changed": false, 
            "item": null, 
            "skip_reason": "Conditional check failed", 
            "skipped": true
        }, 
        "skip_reason": "Conditional check failed", 
        "skipped": true
    }, 
    "skip_reason": "Conditional check failed", 
    "skipped": true
}
2018-06-06 09:15:29,985 p=1820 u=stack |  PLAY RECAP *********************************************************************
2018-06-06 09:15:29,985 p=1820 u=stack |  localhost                  : ok=11   changed=4    unreachable=0    failed=0   
2018-06-06 09:15:29,985 p=1820 u=stack |  overcloud-controller-0     : ok=2    changed=1    unreachable=0    failed=0   
2018-06-06 09:33:31,803 p=4600 u=stack |  PLAY [Power on Compute nodes] **************************************************
2018-06-06 09:33:31,855 p=4600 u=stack |  TASK [Initialize count] ********************************************************
2018-06-06 09:33:31,877 p=4600 u=stack |  ok: [localhost]
2018-06-06 09:33:31,878 p=4600 u=stack |  TASK [Add length of p1] ********************************************************
2018-06-06 09:33:31,928 p=4600 u=stack |  ok: [localhost]
2018-06-06 09:33:31,931 p=4600 u=stack |  TASK [Add length of p2] ********************************************************
2018-06-06 09:33:31,973 p=4600 u=stack |  skipping: [localhost]
2018-06-06 09:33:31,974 p=4600 u=stack |  TASK [Add length of p3] ********************************************************
2018-06-06 09:33:32,015 p=4600 u=stack |  skipping: [localhost]
2018-06-06 09:33:32,016 p=4600 u=stack |  TASK [Checking to see if any Compute nodes are powered on] *********************
2018-06-06 09:33:33,646 p=4600 u=stack |  fatal: [localhost]: FAILED! => {"changed": true, "cmd": "source /home/stack/stackrc; openstack baremetal node list -f value --fields name power_state | grep -i compute | grep -c \"power off\"", "delta": "0:00:01.337347", "end": "2018-06-06 09:33:33.625874", "failed": true, "rc": 1, "start": "2018-06-06 09:33:32.288527", "stderr": "", "stdout": "0", "stdout_lines": ["0"], "warnings": []}
2018-06-06 09:33:33,646 p=4600 u=stack |  ...ignoring
2018-06-06 09:33:33,647 p=4600 u=stack |  TASK [fail] ********************************************************************
2018-06-06 09:33:33,701 p=4600 u=stack |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "This does not seem to be a complete power outage"}
2018-06-06 09:33:33,703 p=4600 u=stack |  	to retry, use: --limit @/home/stack/playbooks/PowerOnComputes/poweron_computes.retry

2018-06-06 09:33:33,703 p=4600 u=stack |  PLAY RECAP *********************************************************************
2018-06-06 09:33:33,703 p=4600 u=stack |  localhost                  : ok=3    changed=1    unreachable=0    failed=1   
2018-06-06 09:34:17,023 p=4719 u=stack |  PLAY [Power on Compute nodes] **************************************************
2018-06-06 09:34:17,075 p=4719 u=stack |  TASK [Initialize count] ********************************************************
2018-06-06 09:34:17,096 p=4719 u=stack |  ok: [localhost]
2018-06-06 09:34:17,097 p=4719 u=stack |  TASK [Add length of p1] ********************************************************
2018-06-06 09:34:17,151 p=4719 u=stack |  ok: [localhost]
2018-06-06 09:34:17,152 p=4719 u=stack |  TASK [Add length of p2] ********************************************************
2018-06-06 09:34:17,196 p=4719 u=stack |  skipping: [localhost]
2018-06-06 09:34:17,197 p=4719 u=stack |  TASK [Add length of p3] ********************************************************
2018-06-06 09:34:17,242 p=4719 u=stack |  skipping: [localhost]
2018-06-06 09:34:17,243 p=4719 u=stack |  TASK [Checking to see if any Compute nodes are powered on] *********************
2018-06-06 09:34:18,817 p=4719 u=stack |  fatal: [localhost]: FAILED! => {"changed": true, "cmd": "source /home/stack/stackrc; openstack baremetal node list -f value --fields name power_state | grep -i compute | grep -c \"power off\"", "delta": "0:00:01.292427", "end": "2018-06-06 09:34:18.797299", "failed": true, "rc": 1, "start": "2018-06-06 09:34:17.504872", "stderr": "", "stdout": "0", "stdout_lines": ["0"], "warnings": []}
2018-06-06 09:34:18,817 p=4719 u=stack |  ...ignoring
2018-06-06 09:34:18,818 p=4719 u=stack |  TASK [Waiting for the OSP Controller nodes to come back online] ****************
2018-06-06 09:34:19,130 p=4719 u=stack |  ok: [localhost] => (item=overcloud-controller-0)
2018-06-06 09:34:19,131 p=4719 u=stack |  TASK [Waiting for the Ceph monitor nodes to come back online] ******************
2018-06-06 09:34:19,349 p=4719 u=stack |  ok: [localhost] => (item=overcloud-controller-0)
2018-06-06 09:34:19,350 p=4719 u=stack |  TASK [Waiting for the Ceph OSD nodes to come back online] **********************
2018-06-06 09:34:19,565 p=4719 u=stack |  ok: [localhost] => (item=overcloud-cephstorage-0)
2018-06-06 09:34:19,568 p=4719 u=stack |  TASK [Wait for 60 seconds before continuing] ***********************************
2018-06-06 09:35:19,816 p=4719 u=stack |  ok: [localhost -> localhost]
2018-06-06 09:35:19,820 p=4719 u=stack |  PLAY [ceph-mons] ***************************************************************
2018-06-06 09:35:19,833 p=4719 u=stack |  TASK [setup] *******************************************************************
2018-06-06 09:35:22,466 p=4719 u=stack |  ok: [overcloud-controller-0]
2018-06-06 09:35:22,473 p=4719 u=stack |  TASK [Checking Ceph health till number of OSDs up crosses threshold] ***********
2018-06-06 09:35:23,066 p=4719 u=stack |  changed: [overcloud-controller-0]
2018-06-06 09:35:23,069 p=4719 u=stack |  PLAY [localhost] ***************************************************************
2018-06-06 09:35:23,072 p=4719 u=stack |  TASK [setup] *******************************************************************
2018-06-06 09:35:26,692 p=4719 u=stack |  ok: [localhost]
2018-06-06 09:35:26,697 p=4719 u=stack |  TASK [Find computes_p1 instance ids] *******************************************
2018-06-06 09:35:29,185 p=4719 u=stack |  changed: [localhost] => (item=overcloud-compute-0)
2018-06-06 09:35:31,355 p=4719 u=stack |  changed: [localhost] => (item=overcloud-compute-1)
2018-06-06 09:35:31,359 p=4719 u=stack |  TASK [Find computes_p1 baremetal node uuids] ***********************************
2018-06-06 09:35:32,897 p=4719 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'92005d48-b779-438a-89f0-5dd3d06a99e0', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-06 09:35:29.163751', u'start': u'2018-06-06 09:35:26.891993', u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", 'item': u'overcloud-compute-0', u'delta': u'0:00:02.271758', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'92005d48-b779-438a-89f0-5dd3d06a99e0'], u'stderr': u''})
2018-06-06 09:35:34,330 p=4719 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'99efcced-e695-4443-9e0c-c589af606be9', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-06 09:35:31.333402', u'start': u'2018-06-06 09:35:29.329825', u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", 'item': u'overcloud-compute-1', u'delta': u'0:00:02.003577', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'99efcced-e695-4443-9e0c-c589af606be9'], u'stderr': u''})
2018-06-06 09:35:34,334 p=4719 u=stack |  TASK [Poweron computes_p1] *****************************************************
2018-06-06 09:35:35,889 p=4719 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-06 09:35:32.879467', u'start': u'2018-06-06 09:35:31.587798', u'cmd': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 92005d48-b779-438a-89f0-5dd3d06a99e0 --fields uuid', 'item': {'_ansible_parsed': True, u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", u'end': u'2018-06-06 09:35:29.163751', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'changed': True, u'rc': 0, u'stdout': u'92005d48-b779-438a-89f0-5dd3d06a99e0', 'item': u'overcloud-compute-0', u'stderr': u'', u'delta': u'0:00:02.271758', 'invocation': {'module_name': u'command', u'module_args': {u'warn': True, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-0/ { print $1 }'", u'removes': None, u'creates': None, u'chdir': None}}, 'stdout_lines': [u'92005d48-b779-438a-89f0-5dd3d06a99e0'], u'start': u'2018-06-06 09:35:26.891993'}, u'delta': u'0:00:01.291669', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 92005d48-b779-438a-89f0-5dd3d06a99e0 --fields uuid', u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'ebeacb1d-d968-4031-9b3f-fa7ba5ea0eb6'], u'stderr': u''})
2018-06-06 09:35:37,362 p=4719 u=stack |  changed: [localhost] => (item={'_ansible_parsed': True, u'changed': True, u'stdout': u'd1f438de-e234-4a19-a866-777e9c8a19d1', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'rc': 0, u'end': u'2018-06-06 09:35:34.306194', u'start': u'2018-06-06 09:35:33.036450', u'cmd': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 99efcced-e695-4443-9e0c-c589af606be9 --fields uuid', 'item': {'_ansible_parsed': True, u'cmd': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", u'end': u'2018-06-06 09:35:31.333402', '_ansible_no_log': False, u'warnings': [], '_ansible_item_result': True, u'changed': True, u'rc': 0, u'stdout': u'99efcced-e695-4443-9e0c-c589af606be9', 'item': u'overcloud-compute-1', u'stderr': u'', u'delta': u'0:00:02.003577', 'invocation': {'module_name': u'command', u'module_args': {u'warn': True, u'executable': None, u'_uses_shell': True, u'_raw_params': u"source /home/stack/stackrc; openstack server list -f value | awk '/overcloud-compute-1/ { print $1 }'", u'removes': None, u'creates': None, u'chdir': None}}, 'stdout_lines': [u'99efcced-e695-4443-9e0c-c589af606be9'], u'start': u'2018-06-06 09:35:29.329825'}, u'delta': u'0:00:01.269744', 'invocation': {'module_name': u'command', u'module_args': {u'creates': None, u'executable': None, u'_uses_shell': True, u'_raw_params': u'source /home/stack/stackrc; openstack baremetal node show -f value --instance 99efcced-e695-4443-9e0c-c589af606be9 --fields uuid', u'removes': None, u'warn': True, u'chdir': None}}, 'stdout_lines': [u'd1f438de-e234-4a19-a866-777e9c8a19d1'], u'stderr': u''})
2018-06-06 09:35:37,376 p=4719 u=stack |  TASK [Wait between computes p1 and p2] *****************************************
2018-06-06 09:35:37,430 p=4719 u=stack |  skipping: [localhost]
2018-06-06 09:35:37,434 p=4719 u=stack |  TASK [Find computes_p2 instance ids] *******************************************
2018-06-06 09:35:37,488 p=4719 u=stack |  skipping: [localhost] => (item=None) 
2018-06-06 09:35:37,492 p=4719 u=stack |  TASK [Find computes_p2 baremetal node uuids] ***********************************
2018-06-06 09:35:37,541 p=4719 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False}) 
2018-06-06 09:35:37,549 p=4719 u=stack |  TASK [Poweron computes_p2] *****************************************************
2018-06-06 09:35:37,599 p=4719 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': {'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False}, 'changed': False}) 
2018-06-06 09:35:37,610 p=4719 u=stack |  TASK [Wait between computes p2 and p3] *****************************************
2018-06-06 09:35:37,664 p=4719 u=stack |  skipping: [localhost]
2018-06-06 09:35:37,668 p=4719 u=stack |  TASK [Find computes_p3 instance ids] *******************************************
2018-06-06 09:35:37,754 p=4719 u=stack |  skipping: [localhost] => (item=None) 
2018-06-06 09:35:37,758 p=4719 u=stack |  TASK [Find computes_p3 baremetal node uuids] ***********************************
2018-06-06 09:35:37,843 p=4719 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False}) 
2018-06-06 09:35:37,847 p=4719 u=stack |  TASK [Poweron computes_p3] *****************************************************
2018-06-06 09:35:37,931 p=4719 u=stack |  skipping: [localhost] => (item={'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': {'skipped': True, '_ansible_no_log': False, 'skip_reason': u'Conditional check failed', '_ansible_item_result': True, 'item': None, 'changed': False}, 'changed': False}) 
2018-06-06 09:35:37,933 p=4719 u=stack |  PLAY RECAP *********************************************************************
2018-06-06 09:35:37,933 p=4719 u=stack |  localhost                  : ok=11   changed=4    unreachable=0    failed=0   
2018-06-06 09:35:37,933 p=4719 u=stack |  overcloud-controller-0     : ok=2    changed=1    unreachable=0    failed=0   
2018-06-06 09:40:21,667 p=6113 u=stack |  PLAY [Power on Compute nodes] **************************************************
2018-06-06 09:40:21,724 p=6113 u=stack |  TASK [Initialize count] ********************************************************
2018-06-06 09:40:21,753 p=6113 u=stack |  ok: [localhost]
2018-06-06 09:40:21,757 p=6113 u=stack |  TASK [Add length of p1] ********************************************************
2018-06-06 09:40:21,815 p=6113 u=stack |  ok: [localhost]
2018-06-06 09:40:21,819 p=6113 u=stack |  TASK [Add length of p2] ********************************************************
2018-06-06 09:40:21,867 p=6113 u=stack |  skipping: [localhost]
2018-06-06 09:40:21,871 p=6113 u=stack |  TASK [Add length of p3] ********************************************************
2018-06-06 09:40:21,917 p=6113 u=stack |  skipping: [localhost]
2018-06-06 09:40:21,921 p=6113 u=stack |  TASK [Checking to see if any Compute nodes are powered on] *********************
2018-06-06 09:40:23,527 p=6113 u=stack |  fatal: [localhost]: FAILED! => {"changed": true, "cmd": "source /home/stack/stackrc; openstack baremetal node list -f value --fields name power_state | grep -i compute | grep -c \"power off\"", "delta": "0:00:01.310507", "end": "2018-06-06 09:40:23.505502", "failed": true, "rc": 1, "start": "2018-06-06 09:40:22.194995", "stderr": "", "stdout": "0", "stdout_lines": ["0"], "warnings": []}
2018-06-06 09:40:23,527 p=6113 u=stack |  ...ignoring
2018-06-06 09:40:23,531 p=6113 u=stack |  TASK [fail] ********************************************************************
2018-06-06 09:40:23,596 p=6113 u=stack |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "This does not seem to be a complete power outage"}
2018-06-06 09:40:23,598 p=6113 u=stack |  	to retry, use: --limit @/home/stack/playbooks/PowerOnComputes/poweron_computes.retry

2018-06-06 09:40:23,598 p=6113 u=stack |  PLAY RECAP *********************************************************************
2018-06-06 09:40:23,598 p=6113 u=stack |  localhost                  : ok=3    changed=1    unreachable=0    failed=1   
2018-06-06 09:40:53,077 p=6255 u=stack |  PLAY [Power on Compute nodes] **************************************************
2018-06-06 09:40:53,135 p=6255 u=stack |  TASK [Initialize count] ********************************************************
2018-06-06 09:40:53,164 p=6255 u=stack |  ok: [localhost]
2018-06-06 09:40:53,168 p=6255 u=stack |  TASK [Add length of p1] ********************************************************
2018-06-06 09:40:53,224 p=6255 u=stack |  ok: [localhost]
2018-06-06 09:40:53,228 p=6255 u=stack |  TASK [Add length of p2] ********************************************************
2018-06-06 09:40:53,276 p=6255 u=stack |  skipping: [localhost]
2018-06-06 09:40:53,280 p=6255 u=stack |  TASK [Add length of p3] ********************************************************
2018-06-06 09:40:53,329 p=6255 u=stack |  skipping: [localhost]
2018-06-06 09:40:53,333 p=6255 u=stack |  TASK [Checking to see if any Compute nodes are powered on] *********************
2018-06-06 09:40:54,932 p=6255 u=stack |  fatal: [localhost]: FAILED! => {"changed": true, "cmd": "source /home/stack/stackrc; openstack baremetal node list -f value --fields name power_state | grep -i compute | grep -c \"power off\"", "delta": "0:00:01.300944", "end": "2018-06-06 09:40:54.910592", "failed": true, "rc": 1, "start": "2018-06-06 09:40:53.609648", "stderr": "", "stdout": "0", "stdout_lines": ["0"], "warnings": []}
2018-06-06 09:40:54,932 p=6255 u=stack |  ...ignoring
2018-06-06 09:40:54,936 p=6255 u=stack |  TASK [debug] *******************************************************************
2018-06-06 09:40:54,993 p=6255 u=stack |  ok: [localhost] => {
    "compute_state.stdout": "0"
}
2018-06-06 09:40:54,997 p=6255 u=stack |  TASK [debug] *******************************************************************
2018-06-06 09:40:55,052 p=6255 u=stack |  ok: [localhost] => {
    "compute_count": "2"
}
2018-06-06 09:40:55,057 p=6255 u=stack |  TASK [fail] ********************************************************************
2018-06-06 09:40:55,115 p=6255 u=stack |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "This does not seem to be a complete power outage"}
2018-06-06 09:40:55,117 p=6255 u=stack |  	to retry, use: --limit @/home/stack/playbooks/PowerOnComputes/poweron_computes.retry

2018-06-06 09:40:55,117 p=6255 u=stack |  PLAY RECAP *********************************************************************
2018-06-06 09:40:55,117 p=6255 u=stack |  localhost                  : ok=5    changed=1    unreachable=0    failed=1   
